/************************************************************************************
 * jquery.themepunch.essential.js - jQuery Plugin for esg Portfolio Slider
 * @version: 2.2.5 (12.07.2018)
 * @requires jQuery v1.7 or later
 * @author ThemePunch
************************************************************************************/

;var AdminEssentials=new function(){var m,v=this,t=[],n={},o=null,s=[],l=null,u=null,c=[],d={},p={},g={},h={};v.setInitSkinsJson=function(e){d=jQuery.parseJSON(e)},v.setInitElementsJson=function(e){p=jQuery.parseJSON(e)},v.setInitStylingJson=function(e){g=jQuery.parseJSON(e)},v.setInitCustomJson=function(e){h=jQuery.parseJSON(e)},v.setInitMetaKeysJson=function(e){c=jQuery.parseJSON(e)},v.initMetaBox=function(){for(var e in jQuery("#eg-featured-grid").change(function(){""!=jQuery(this).val()&&jQuery("#revslider_featured_slider_id").val(""),jQuery(".featured-slider-main-metas").hide(),jQuery(".featured-slider-slide").css("height","40px").css("background-color","transparent")}),jQuery("#revslider_featured_slider_id").change(function(){jQuery("#eg-featured-grid").val("")}),jQuery("#eg-add-custom-meta-field").click(function(){v.add_meta_element()}),jQuery("body").on("click",".eg-remove-custom-meta-field",function(){jQuery(this).parent().remove()}),jQuery("body").on("change",".eg-custom-meta-skin",function(){var e=jQuery(this).val(),t=jQuery(this).parent().children(".eg-custom-meta-element"),a="";for(var n in d[e].layers)a+='<option value="'+d[e].layers[n]+'">eg-'+d[e].handle+"-element-"+d[e].layers[n]+"</option>";a+='<option value="layout">'+eg_lang.layout_settings+"</option>",t.html(a)}),jQuery("body").on("change",".eg-custom-meta-element",function(){var e="";if("layout"==jQuery(this).val())for(var t in g)"layout"==g[t].container&&(e+='<option value="'+g[t].name.handle+'">'+g[t].name.text+"</option>",void 0!==g[t].hover&&"true"==g[t].hover&&(e+='<option value="'+g[t].name.handle+'-hover">'+g[t].name.text+":hover</option>"));else for(var t in g)"style"!=g[t].container&&"anim"!=g[t].container||(e+='<option value="'+g[t].name.handle+'">'+g[t].name.text+"</option>",void 0!==g[t].hover&&"true"==g[t].hover&&(e+='<option value="'+g[t].name.handle+'-hover">'+g[t].name.text+":hover</option>"));jQuery(this).siblings(".eg-custom-meta-setting").html(e).change()}),jQuery("body").on("change",".eg-custom-meta-setting",function(){var e=jQuery(this),t=e.val();for(var a in 0<=t.indexOf("-hover")&&(t=t.replace("-hover",""),!0),g)if(g[a].name.handle==t){var n=e.siblings(".eg-custom-meta-style");switch(n=n.length?n.data("eltype"):e.siblings().find(".eg-custom-meta-style").data("eltype"),g[a].type){case"color":i=(i=e.siblings(".eg-custom-meta-style")).length?i.val():e.siblings().find(".eg-custom-meta-style").val(),e.siblings(".eg-custom-meta-style, .wp-picker-container, .rev-colorpickerspan").remove();var r=' data-mode="'+g[a].cpmode+'"';e.parent().append('<input class="eg-custom-meta-style" data-eltype="color" type="text" name="eg-custom-meta-style[]" value="'+g[a].default+'"'+r+">"),"undefined"==typeof RevColor?(e.siblings(".eg-custom-meta-style").wpColorPicker({color:!0}),"color"==n&&e.siblings(".eg-custom-meta-style").wpColorPicker("color",i)):"color"==n?e.siblings(".eg-custom-meta-style").val(i).tpColorPicker({wrapper:'<span class="rev-colorpickerspan"></span>'}):e.siblings(".eg-custom-meta-style").tpColorPicker({wrapper:'<span class="rev-colorpickerspan"></span>'});break;case"select":var i=e.siblings(".eg-custom-meta-style option:selected").val();for(var o in e.siblings(".eg-custom-meta-style, .wp-picker-container, .rev-colorpickerspan").remove(),e.parent().append('<select class="eg-custom-meta-style" data-eltype="select" name="eg-custom-meta-style[]"></select>'),g[a].values)e.siblings(".eg-custom-meta-style").append('<option value="'+o+'">'+g[a].values[o]+"</option>");e.siblings('.eg-custom-meta-style option[value="'+g[a].default+'"]').attr("selected","selected"),"select"==n&&e.siblings('.eg-custom-meta-style option[value="'+i+'"]').attr("selected","selected");break;case"number":i=e.siblings(".eg-custom-meta-style").val();e.siblings(".eg-custom-meta-style, .wp-picker-container, .rev-colorpickerspan").remove(),e.parent().append('<input class="eg-custom-meta-style" type="number" data-eltype="number" name="eg-custom-meta-style[]" value="'+g[a].default+'">'),"number"==n&&e.siblings(".eg-custom-meta-style").val(i);break;case"text":default:i=e.siblings(".eg-custom-meta-style").val();e.siblings(".eg-custom-meta-style, .wp-picker-container, .rev-colorpickerspan").remove(),e.parent().append('<input class="eg-custom-meta-style" type="text" data-eltype="text" name="eg-custom-meta-style[]" value="'+g[a].default+'">'),"text"==n&&e.siblings(".eg-custom-meta-style").val(i)}break}}),p)v.add_meta_element(p[e]);jQuery("#eg-create-wp-gallery .ess-customgridwrap").on("click",function(){jQuery("#insert-media-button").click(),jQuery(".media-menu").children().eq(1).click(),jQuery('.ui-dialog[aria-describedby="ess-grid-tiny-mce-dialog"] .ui-dialog-titlebar-close').click();var e=jQuery("body").one("click",".media-modal-backdrop, .media-modal-close",function(){e.removeClass("esg-wp-gallery")});jQuery("body").addClass("esg-wp-gallery")}),jQuery("#insert-media-button").on("click",function(){jQuery("body").removeClass("esg-wp-gallery")})},v.initCustomMeta=function(){jQuery("#eg-meta-add").click(function(){jQuery("#custom-meta-dialog-wrap").dialog({modal:!0,draggable:!0,resizable:!1,width:340,height:560,closeOnEscape:!0,dialogClass:"wp-dialog",buttons:[{text:eg_lang.add_meta,click:function(){var e={};if(e.handle=v.sanitize_input(jQuery('input[name="eg-custom-meta-handle"]').val()),e.name=jQuery('input[name="eg-custom-meta-name"]').val(),e.default=jQuery('input[name="eg-custom-meta-default"]').val(),e.type=jQuery('select[name="eg-custom-meta-type"] option:selected').val(),e["sort-type"]=jQuery('select[name="eg-custom-meta-sort-type"] option:selected').val(),e.sel=!1,jQuery('input[name="eg-custom-meta-handle"]').val(e.handle),"select"!=e.type&&"multi-select"!=e.type||(e.sel=jQuery('textarea[name="eg-custom-meta-select"]').val()),e.handle.length<3||e.name.length<3)return alert(eg_lang.handle_and_name_at_least_3),!1;AdminEssentials.ajaxRequest("add_custom_meta",e,"#eg-meta-add",function(e){})}}]})}),jQuery("body").on("click",".eg-meta-edit",function(){if(confirm(eg_lang.really_change_meta_effects)){var e={},t=jQuery(this);e.handle=t.closest(".inside").find('input[name="esg-meta-handle[]"]').val(),e.name=t.closest(".inside").find('input[name="esg-meta-name[]"]').val(),e.default=t.closest(".inside").find('input[name="esg-meta-default[]"]').val(),e.sel=t.closest(".inside").find('textarea[name="esg-meta-select[]"]').val(),AdminEssentials.ajaxRequest("edit_custom_meta",e,"#eg-meta-add, .eg-meta-edit, .eg-meta-delete",function(e){})}}),jQuery("body").on("click",".eg-meta-delete",function(){if(confirm(eg_lang.really_delete_meta)){var e={},t=jQuery(this);e.handle=t.closest(".inside").find('input[name="esg-meta-handle[]"]').val(),AdminEssentials.ajaxRequest("remove_custom_meta",e,"#eg-meta-add, .eg-meta-edit, .eg-meta-delete",function(e){1==e.success&&t.closest(".postbox.eg-postbox").remove()})}}),jQuery('select[name="eg-custom-meta-type"]').change(function(){"select"==jQuery(this).val()||"multi-select"==jQuery(this).val()?jQuery("#eg-custom-meta-select-wrap").show():jQuery("#eg-custom-meta-select-wrap").hide()}),jQuery("#eg-link-meta-add").click(function(){jQuery("#link-meta-dialog-wrap").dialog({modal:!0,draggable:!0,resizable:!1,width:320,height:380,closeOnEscape:!0,dialogClass:"wp-dialog",buttons:[{text:eg_lang.add_meta,click:function(){var e={};if(e.handle=v.sanitize_input(jQuery('input[name="eg-link-meta-handle"]').val()),e.name=jQuery('input[name="eg-link-meta-name"]').val(),e.original=v.sanitize_input(jQuery('input[name="eg-link-meta-original"]').val()),e["sort-type"]=jQuery('select[name="eg-link-meta-sort-type"] option:selected').val(),jQuery('input[name="eg-link-meta-handle"]').val(e.handle),jQuery('input[name="eg-link-meta-original"]').val(e.original),e.handle.length<3||e.name.length<3||e.original.length<3)return alert(eg_lang.handle_and_name_at_least_3),!1;AdminEssentials.ajaxRequest("add_link_meta",e,"#eg-link-meta-add",function(e){})}}]})}),jQuery("body").on("click",".eg-link-meta-edit",function(){if(confirm(eg_lang.really_change_meta_effects)){var e={},t=jQuery(this);e.handle=t.closest(".inside").find('input[name="esg-link-meta-handle[]"]').val(),e.name=t.closest(".inside").find('input[name="esg-link-meta-name[]"]').val(),e.original=t.closest(".inside").find('input[name="esg-link-meta-original[]"]').val(),AdminEssentials.ajaxRequest("edit_link_meta",e,"#eg-link-meta-add, .eg-link-meta-edit, .eg-link-meta-delete",function(e){})}}),jQuery("body").on("click",".eg-link-meta-delete",function(){if(confirm(eg_lang.really_delete_meta)){var e={},t=jQuery(this);e.handle=t.closest(".inside").find('input[name="esg-link-meta-handle[]"]').val(),AdminEssentials.ajaxRequest("remove_link_meta",e,"#eg-link-meta-add, .eg-link-meta-edit, .eg-link-meta-delete",function(e){1==e.success&&t.closest(".postbox.eg-postbox").remove()})}}),jQuery("#eg-grid-custom-meta-wrapper").tabs(),jQuery(".eg-custom-meta-info-box").click(function(){jQuery(this).hasClass("show")?(jQuery(this).find(".eg-custom-meta-toggle-visible").slideUp(200),jQuery(this).removeClass("show")):(jQuery(this).find(".eg-custom-meta-toggle-visible").slideDown(200),jQuery(this).addClass("show"))})},v.add_meta_element=function(e){var t="";for(var a in d)t+='<option value="'+a+'">'+d[a].name+"</option>";if(jQuery("#eg-advanced-param").append('<div class="eg-custom-meta-setting-wrap"><a class="button-primary eg-remove-custom-meta-field" href="javascript:void(0);">-</a><select class="eg-custom-meta-skin" name="eg-custom-meta-skin[]">'+t+'</select><select class="eg-custom-meta-element" name="eg-custom-meta-element[]"></select><select class="eg-custom-meta-setting" name="eg-custom-meta-setting[]"></select></div>'),void 0!==typeof e&&void 0!==e){if("undefined"!=typeof eg_skin_color_values&&"undefined"!=typeof RevColor&&"cover-bg-color"===e.setting){var n;for(var r in p)if(p.hasOwnProperty(r)&&"cover-bg-opacity"===p[r].setting){if(o=e.style){var i=p[r].style;isNaN(i)||(e.style=RevColor.convert(o,i),n=!0)}break}if(!n&&eg_skin_color_values.hasOwnProperty(e.skin)){var o=eg_skin_color_values[e.skin],s=e.style;if(o&&s&&(o=RevColor.process(o),-1!==(s=RevColor.process(s))[1].search(/hex|rgb/)&&-1!==o[1].search(/hex|rgb/))){"hex"===o[1]&&(o[0]=RevColor.processRgba(o[0]));var l=RevColor.rgbValues(o[0],4);e.style=RevColor.convert(e.style,l[3])}}}if(jQuery(".eg-custom-meta-skin").last().find('option[value="'+e.skin+'"]').attr("selected","selected"),jQuery(".eg-custom-meta-skin").last().change(),jQuery(".eg-custom-meta-element").last().find('option[value="'+e.element+'"]').attr("selected","selected"),jQuery(".eg-custom-meta-element").last().change(),jQuery(".eg-custom-meta-setting").last().find('option[value="'+e.setting+'"]').attr("selected","selected"),jQuery(".eg-custom-meta-setting").last().change(),0==jQuery('.eg-custom-meta-skin option[value="'+e.skin+'"]').last().length||0==jQuery('.eg-custom-meta-element option[value="'+e.element+'"]').last().length||0==jQuery('.eg-custom-meta-setting option[value="'+e.setting+'"]').last().length)return jQuery(".eg-custom-meta-setting-wrap").last().remove(),!1;var u=jQuery(".eg-custom-meta-style").last();switch(u.data("eltype")){case"color":"undefined"==typeof RevColor?u.wpColorPicker("color",e.style):u.val(e.style).tpColorPicker("refresh");break;case"select":u.find('option[value="'+e.style+'"]').attr("selected","selected");break;case"number":case"text":default:u.val(e.style)}}else jQuery(".eg-custom-meta-skin").last().change(),jQuery(".eg-custom-meta-element").last().change(),jQuery(".eg-custom-meta-setting").last().change()},v.initWidgetAreas=function(){jQuery("#eg-widget-area-add").click(function(){jQuery("#widget-areas-dialog-wrap").dialog({modal:!0,draggable:!0,resizable:!1,width:300,height:340,closeOnEscape:!0,dialogClass:"wp-dialog",buttons:[{text:eg_lang.add_widget_area,click:function(){var e={};if(e.handle=v.sanitize_input(jQuery('input[name="eg-widget-area-handle"]').val()),e.name=jQuery('input[name="eg-widget-area-name"]').val(),jQuery('input[name="eg-widget-area-handle"]').val(e.handle),e.handle.length<3||e.name.length<3)return alert(eg_lang.handle_and_name_at_least_3),!1;AdminEssentials.ajaxRequest("add_widget_area",e,".ui-button",function(e){})}}]})}),jQuery("body").on("click",".eg-widget-area-edit",function(){if(confirm(eg_lang.really_change_widget_area_name)){var e={},t=jQuery(this);e.handle=t.closest(".inside").find('input[name="esg-widget-area-handle[]"]').val(),e.name=t.closest(".inside").find('input[name="esg-widget-area-name[]"]').val(),AdminEssentials.ajaxRequest("edit_widget_area",e,"#eg-widget-area-add, .eg-widget-area-edit, .eg-widget-area-delete",function(e){})}}),jQuery("body").on("click",".eg-widget-area-delete",function(){if(confirm(eg_lang.really_delete_widget_area)){var e={},t=jQuery(this);e.handle=t.closest(".inside").find('input[name="esg-widget-area-handle[]"]').val(),AdminEssentials.ajaxRequest("remove_widget_area",e,"#eg-widget-area-add, .eg-widget-area-edit, .eg-widget-area-delete",function(e){1==e.success&&t.closest(".postbox.eg-postbox").remove()})}})},v.initGoogleFonts=function(){jQuery("#eg-font-add").click(function(){jQuery("#font-dialog-wrap").dialog({modal:!0,draggable:!0,resizable:!1,width:470,height:320,closeOnEscape:!0,dialogClass:"wp-dialog",buttons:[{text:eg_lang.add_font,click:function(){var e={};if(e.handle=v.sanitize_input(jQuery('input[name="eg-font-handle"]').val()),e.url=jQuery('input[name="eg-font-url"]').val(),e.handle.length<3||e.url.length<3)return alert(eg_lang.handle_and_name_at_least_3),!1;AdminEssentials.ajaxRequest("add_google_fonts",e,"#eg-font-add",function(e){})}}]})}),jQuery("body").on("click",".eg-font-edit",function(){if(confirm(eg_lang.really_change_font_effects)){var e={},t=jQuery(this);e.handle=t.closest(".inside").find('input[name="esg-font-handle[]"]').val(),e.url=t.closest(".inside").find('input[name="esg-font-url[]"]').val(),AdminEssentials.ajaxRequest("edit_google_fonts",e,"#eg-font-add, .eg-font-edit, .eg-font-delete",function(e){})}}),jQuery("body").on("click",".eg-font-delete",function(){if(confirm(eg_lang.really_delete_meta)){var e={},t=jQuery(this);e.handle=t.closest(".inside").find('input[name="esg-font-handle[]"]').val(),AdminEssentials.ajaxRequest("remove_google_fonts",e,"#eg-font-add, .eg-font-edit, .eg-font-delete",function(e){1==e.success&&t.closest(".postbox.eg-postbox").remove()})}})},v.initSearchSettings=function(){jQuery("#eg-btn-save-settings").click(function(){var e={};e.global=v.getFormParams("esg-search-global-settings"),e.shortcode=v.getFormParams("esg-search-shortcode-settings"),e.settings={},e.settings["search-enable"]=jQuery('input[name="search-enable"]:checked').val(),AdminEssentials.ajaxRequest("save_search_settings",e,"#eg-btn-save-settings",function(e){})}),jQuery("body").on("click",".eg-btn-remove-setting",function(){jQuery(this).closest(".postbox").remove()}),jQuery('input[name="search-enable"]').click(function(){"on"==jQuery(this).val()?jQuery("#esg-search-global-settings").show():jQuery("#esg-search-global-settings").hide()}),jQuery('input[name="search-enable"]:checked').click(),jQuery("#eg-btn-add-global-setting").click(function(){v.append_global_setting({}),v.initAccordion()}),jQuery("#eg-btn-add-shortcode-setting").click(function(){v.append_shortcode_setting({}),v.initAccordion()}),jQuery("body").on("keyup",'input[name="search-class[]"]',function(){jQuery(this).closest(".postbox").find(".search-title").text(jQuery(this).val())}),jQuery("#eg-grid-search-wrapper").tabs(),jQuery(".eg-search-settings-info-box").click(function(){jQuery(this).hasClass("show")?(jQuery(this).find(".eg-search-settings-toggle-visible").slideUp(200),jQuery(this).removeClass("show")):(jQuery(this).find(".eg-search-settings-toggle-visible").slideDown(200),jQuery(this).addClass("show"))}),v.append_global_setting=function(e){var t=a(e);jQuery(".eg-global-search-wrap").append(t)},v.append_shortcode_setting=function(e){var t=n(e);jQuery(".eg-shortcode-search-wrap").append(t)};var a=wp.template("esg-global-settings-wrap"),n=wp.template("esg-shortcode-settings-wrap"),e=global_settings;if(void 0!==e.global&&void 0!==e.global["search-class"])for(var t=0;t<e.global["search-class"].length;t++){var r={};for(var i in e.global)r[i]=e.global[i][t];v.append_global_setting(r)}if(void 0!==e.shortcode&&void 0!==e.shortcode["sc-grid-id"])for(t=0;t<e.shortcode["sc-grid-id"].length;t++){r={};for(var i in e.shortcode)r[i]=e.shortcode[i][t];v.append_shortcode_setting(r)}jQuery("body").on("change","#eg-shortcode-search-wrap select, #eg-shortcode-search-wrap input",function(){jQuery(this).closest(".postbox").find('input[name="sc-shortcode[]"]').val('[ess_grid_search handle="'+jQuery(this).closest(".postbox").find('input[name="sc-handle[]"]').val()+'"]')}),jQuery("#eg-shortcode-search-wrap select, #eg-shortcode-search-wrap input").each(function(){jQuery(this).find("option:selected").change()}),jQuery('input[name="sc-shortcode[]"]').click(function(){this.select()})},v.showInfo=function(e){if("undefined"==typeof punchgs)return!0;var t='<i class="eg-icon-info"></i>';"warning"==e.type&&(t='<i class="eg-icon-cancel"></i>'),"success"==e.type&&(t='<i class="eg-icon-ok"></i>'),e.showdelay=null!=e.showdelay?e.showdelay:0,e.hidedelay=null!=e.hidedelay?e.hidedelay:0,0==jQuery("#eg-toolbox-wrapper").length&&jQuery("#eg-wrap").append('<div id="eg-toolbox-wrapper"></div>'),jQuery("#eg-toolbox-wrapper").append('<div class="eg-toolbox newadded">'+t+e.content+"</div>");var a=jQuery("#eg-toolbox-wrapper").find(".eg-toolbox.newadded");a.removeClass("newadded"),punchgs.TweenLite.fromTo(a,.5,{y:-50,autoAlpha:0,transformOrigin:"50% 50%",transformPerspective:900,rotationX:-90},{autoAlpha:1,y:0,rotationX:0,ease:punchgs.Back.easeOut,delay:e.showdelay}),"event"!=e.hideon?(a.click(function(){punchgs.TweenLite.to(a,.3,{x:200,ease:punchgs.Power3.easeInOut,autoAlpha:0,onComplete:function(){a.remove()}})}),0!=e.hidedelay&&"click"!=e.hideon&&punchgs.TweenLite.to(a,.3,{x:200,ease:punchgs.Power3.easeInOut,autoAlpha:0,delay:e.hidedelay+e.showdelay,onComplete:function(){a.remove()}})):jQuery("#eg-toolbox-wrapper").on(e.event,function(){punchgs.TweenLite.to(a,.3,{x:200,ease:punchgs.Power3.easeInOut,autoAlpha:0,onComplete:function(){a.remove()}})})},v.htmlspecialchars=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},v.strToBool=function(e){return null!=e&&("string"==typeof e&&"true"==(e=e.toLowerCase()))},v.stripTags=function(e,a){a=(((a||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(e,t){return-1<a.indexOf("<"+t.toLowerCase()+">")?e:""})},v.stripslashes=function(e){return(e+"").replace(/\\(.?)/g,function(e,t){switch(t){case"\\":return"\\";case"0":return"\0";case"":return"";default:return t}})},v.hex_to_rgba=function(e,t,a){t=void 0!==t?0<t?t/100:0:1;e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,a,n){return t+t+a+a+n+n});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return void 0!==a?n?"rgba("+parseInt(n[1],16)+", "+parseInt(n[2],16)+", "+parseInt(n[3],16)+", "+t+")":null:n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),a:t}:null},v.upload_image_img=function(e){var t;jQuery(document).off("focusin"),t||(t=wp.media.frames.file_frame=wp.media({title:eg_lang.choose_image,button:{text:eg_lang.choose_image},multiple:!1,open:function(){console.log("Open")},close:function(){console.log("Close")}})).on("select",function(){attachment=t.state().get("selection").first().toJSON(),jQuery("#"+e).val(attachment.id),jQuery("#"+e+"-img").attr("src",attachment.url),jQuery("#"+e+"-img").show(),"esg-custom-image"==e&&(jQuery(".eg-elset-row").find('input[name="title"]').val(attachment.title),jQuery(".eg-elset-row").find('input[name="excerpt"]').val(attachment.description),jQuery(".eg-elset-row").find('input[name="content"]').val(attachment.description))}),t.open()},v.upload_image_bg=function(e){var t;t||(t=wp.media.frames.file_frame=wp.media({title:eg_lang.choose_image,button:{text:eg_lang.choose_image},multiple:!1})).on("select",function(){attachment=t.state().get("selection").first().toJSON(),jQuery("#"+e).val(attachment.id),jQuery("#"+e+"-wrapper").css("background","url("+attachment.url+")")}),t.open()},v.add_custom_grid_multiple_images=function(e){var t;t||(t=wp.media.frames.file_frame=wp.media({title:eg_lang.choose_images,button:{text:eg_lang.choose_images},multiple:!0})).on("select",function(){t.state().get("selection").each(function(e){var t=e.toJSON();if(void 0!==t&&void 0!==t.id&&0<parseInt(t.id)){v.reset_custom_dialog(),v.remove_hightlighting(),jQuery("#esg-custom-image").val(t.id),jQuery(".eg-elset-row").find('input[name="title"]').val(t.title),jQuery(".eg-elset-row").find('input[name="excerpt"]').val(t.description),jQuery(".eg-elset-row").find('input[name="content"]').val(t.description);var a=JSON.stringify(v.getFormParams("edit-custom-element-form"));jQuery("#esg-preview-wrapping-wrapper").prepend('<input id="eg-new-temp-layer" class="esg-new-temp-layer" name="layers[]" type="hidden" values="" />'),jQuery("#eg-new-temp-layer").val(a)}}),v.changePreviewGrid(!0)}),t.open()},v.getFormParams=function(e,t){for(var a,n,r,i,o=new Object,s=document.getElementById(e),l=s.elements.length,u=0;u<l;u++){var c=s.elements[u];switch(a=c.name,n=c.value,r=c.type,jQuery(c).hasClass("wp-editor-area")&&(r="editor"),i=!0,r){case"checkbox":if(-1!==s.elements[u].className.indexOf("eg-get-val")){if(!s.elements[u].checked)continue;n=s.elements[u].value}else n=s.elements[u].checked;break;case"radio":if(-1!==s.elements[u].className.indexOf("eg-get-val")){if(!s.elements[u].checked)continue;n=s.elements[u].value}else 0==s.elements[u].checked&&(i=!1);break;case"editor":if("undefined"!=typeof tinyMCE&&null!=tinyMCE.get(a))try{n=tinyMCE.get(a).getContent()}catch(e){n=jQuery('textarea[name="'+a+'"]').val()}break;case"select-multiple":(n=jQuery(c).val())&&(n=n.toString())}if(1==i&&null!=a){if(void 0!==t){if(""==n)continue;try{var d=jQuery.parseJSON(n)}catch(e){try{n=v.stripslashes(n);d=jQuery.parseJSON(n)}catch(e){continue}}if("object"==typeof d){for(var p in d)""==d[p]&&delete d[p];n=JSON.stringify(d)}}-1<a.indexOf("[]")?("object"!=typeof o[a=a.replace("[]","")]&&(o[a]=[]),o[a][Object.keys(o[a]).length]=n):o[a]=n}}return o},v.initAccordion=function(){jQuery(".postbox-arrow").each(function(e){jQuery(this).closest("h3").unbind("click"),jQuery(this).closest("h3").click(function(){var e=jQuery(this);e.hasClass("box-closed")?(jQuery(".postbox-arrow").each(function(){var e=jQuery(this).closest("h3");e.closest(".postbox").find(".inside").slideUp("fast"),e.addClass("box-closed")}),e.closest(".postbox").find(".inside").slideDown("fast"),e.removeClass("box-closed")):(e.closest(".postbox").find(".inside").slideUp("fast"),e.addClass("box-closed"))})})},v.initSlider=function(){jQuery(function(){var e=[{name:"rows",min:1,max:99},{name:"grid-animation-speed",min:0,max:5e3,step:100},{name:"grid-animation-delay",min:1,max:30},{name:"grid-start-animation-speed",min:0,max:5e3,step:100},{name:"grid-start-animation-delay",min:1,max:30},{name:"hover-animation-speed",min:0,max:9e3,step:100},{name:"hover-animation-delay",min:1,max:30,step:5},{name:"load-more-amount",min:1,max:20},{name:"load-more-start",min:1,max:20}];for(key in e){var t=jQuery('input[name="'+e[key].name+'"]').val(),a=1;null!=e[key].step&&(a=e[key].step);var n=jQuery("#slider-"+e[key].name);n.slider({value:t,min:e[key].min,max:e[key].max,step:a,slide:function(e,t){jQuery('input[name="'+jQuery(this).attr("id").replace("slider-","")+'"]').val(t.value),jQuery("body").trigger("esgslide",jQuery(this))},create:function(){n.data("sliderinited",!0)}});var r=parseInt(jQuery("#slider-"+e[key].name+" .ui-slider-handle").css("left"),0);jQuery("#slider-"+e[key].name).prepend('<span class="eg-pre-slider"></span>'),jQuery("#slider-"+e[key].name+" .eg-pre-slider").css({width:r+"%"})}for(var i=1;i<=7;i++){var o=jQuery("#columns-"+i).val();jQuery("#slider-columns-"+i).slider({value:o,min:1,max:15,slide:function(e,t){jQuery("#columns-"+jQuery(this).data("num")).val(t.value),jQuery("body").trigger("esgslide",jQuery(this))}}),jQuery("#slider-columns-"+i).prepend('<span class="eg-pre-slider"></span>');r=parseInt(jQuery("#slider-columns-"+i+" .ui-slider-handle").css("left"),0);jQuery("#slider-columns-"+i+" .eg-pre-slider").css({width:r})}jQuery("body").on("esgslide",function(e,t){var a=jQuery(t);setTimeout(function(){var e=parseInt(a.find(".ui-slider-handle").css("left"),0);a.find(".eg-pre-slider").css({width:e})},10)}),jQuery("#grid-start-animation").on("change",function(){var e,t,a="show",n=(this.value,"none"!==this.value&&"reveal"!==this.value?"show":"hide");"reveal"!==this.value?(e="off",t="none"!==this.value?"show":"hide","none"===this.value&&(a="hide")):(e="on",t="hide"),jQuery("#start-animation-speed-wrap")[a](),jQuery("#start-animation-delay-wrap")[t](),jQuery("#start-animation-viewport-wrap")[n](),$("#hide-markup-before-load").val(e)}).change(),jQuery(".start-anime-viewport").on("change",function(){var e=this.checked&&"on"===this.value?"show":"hide";jQuery("#start-animation-viewport-buffer")[e]()}),jQuery("#grid-animation-select").on("change",function(){var e="rotatefall"!==this.value?"show":"hide";jQuery("#animation-delay-type-wrap")[e]()}).change(),jQuery(".eg-lb-source-list").on("change",function(){"post-content"===this.value&&this.checked?(jQuery("#lbo-list .eg-media-source-order").not("#lbo-post-content").addClass("notavailable"),jQuery("#eg-post-content-options").show()):(jQuery("#lbo-list .eg-media-source-order").removeClass("notavailable"),jQuery("#eg-post-content-options").hide())}),jQuery(".start-anime-viewport:checked").change(),jQuery('.eg-lb-source-list[value="post-content"]').change(),jQuery(document).on("keydown",function(e){if(e.ctrlKey||e.metaKey)switch(String.fromCharCode(e.which).toLowerCase()){case"s":var t=jQuery("#eg-btn-save-grid");t.length&&(e.preventDefault(),t.click())}});var s=jQuery("#waitaminute");"wpbody-content"!==s.parent().attr("id")&&s.appendTo(jQuery("#wpbody-content")),jQuery("body").on("click",".ui-widget-overlay",function(){jQuery('.ui-dialog[aria-describedby="edit-custom-element-dialog-wrap"], .ui-dialog[aria-describedby="post-meta-dialog-wrap"]').find(".ui-dialog-titlebar-close").click()})})},v.recalcSlidersPos=function(){var e=[{name:"rows",min:1,max:99},{name:"grid-animation-speed",min:0,max:9e3,step:100},{name:"grid-animation-delay",min:0,max:100},{name:"hover-animation-speed",min:0,max:9e3,step:100},{name:"hover-animation-delay",min:1,max:30},{name:"load-more-amount",min:1,max:20},{name:"load-more-start",min:1,max:20}];for(key in e){jQuery('input[name="'+e[key].name+'"]').val();null!=e[key].step&&e[key].step;var t=parseInt(jQuery("#slider-"+e[key].name+" .ui-slider-handle").css("left"),0);jQuery("#slider-"+e[key].name+" .eg-pre-slider").css({width:t})}for(var a=1;a<=7;a++){jQuery("#columns-"+a).val(),t=parseInt(jQuery("#slider-columns-"+a+" .ui-slider-handle").css("left"),0);jQuery("#slider-columns-"+a+" .eg-pre-slider").css({width:t})}jQuery("body").on("esgslide",function(e,t){var a=jQuery(t);setTimeout(function(){var e=parseInt(a.find(".ui-slider-handle").css("left"),0);a.find(".eg-pre-slider").css({width:e})},10)})},v.initAutocomplete=function(){for(var e=0;e<pages.length;++e)t.push(pages[e].label),n[pages[e].label]=pages[e].value;jQuery("#pages").autocomplete({minLength:1,source:t,select:function(e,t){return v.insertSelectedPage(t.item.value),!1}}),jQuery("body").on("click",".del-page-entry",function(){var e=jQuery(this).parent().data("id");jQuery('select[name="selected_pages"] option[value="'+e+'"]').attr("selected",!1),jQuery(this).parent().remove()})},v.insertSelectedPage=function(e){var t=n[e];if(jQuery('select[name="selected_pages"] option[value="'+t+'"]').is(":selected"))return jQuery("#pages").val(""),!1;jQuery("#pages-wrap").append('<div data-id="'+n[e]+'">'+e+' <i class="eg-icon-trash del-page-entry"></i></div>');var a=jQuery("#pages-wrap").children().toArray().sort(function(e,t){return jQuery(e).text()>jQuery(t).text()?1:0});jQuery.each(a,function(e,t){jQuery("#pages-wrap").append(t)}),jQuery('select[name="selected_pages"] option[value="'+n[e]+'"]').attr("selected",!0),jQuery("#pages").val("")},v.updateShortcode=function(){var e=jQuery("input[name='handle']").val(),t='[ess_grid alias="'+e+'"]';""==e&&(t="-- "+eg_lang.aj_wrong_alias+" -- "),jQuery('input[name="shortcode"]').val(t),jQuery('input[name="ajax-container-shortcode"]').val(t.replace("[ess_grid","[ess_grid_ajax_target")),jQuery(".filter-shortcode-filter").each(function(){jQuery(this).val(t.replace("[ess_grid",'[ess_grid_nav id="'+jQuery(this).data("num")+'" '))})},v.checkEvenMasonryInput=function(){"fullscreen"!=jQuery("input[name='layout-sizing']:checked").val()?(jQuery("#eg-items-ratio-wrap").show(),"even"==jQuery('input[name="layout"]:checked').val()?jQuery("#eg-content-push-wrap").show():jQuery("#eg-content-push-wrap").hide()):(jQuery("#eg-content-push-wrap").hide(),jQuery("#eg-items-ratio-wrap").hide()),"cobbles"==jQuery('input[name="layout"]:checked').val()?jQuery("#eg-cobbles-options").show():jQuery("#eg-cobbles-options").hide(),"masonry"==jQuery('input[name="layout"]:checked').val()?jQuery("#eg-masonry-options").show():jQuery("#eg-masonry-options").hide(),"masonry"==jQuery('input[name="layout"]:checked').val()&&"checked"==jQuery('input[name="auto-ratio"]').attr("checked")?jQuery("#eg-ratio-wrapper").hide():jQuery("#eg-ratio-wrapper").show()},v.initCreateGrid=function(n){function e(){jQuery(".cachenumbercheck").each(function(){var e=jQuery(this),t=e.find("input"),a=e.find(".showonsmallcache");t.val()<3600?a.show():a.hide()})}function t(e){return!e.hasClass("notavailable")&&e.find("input").is(":checked")}function a(){jQuery("#pso-list").find(".eg-media-source-order").each(function(){jQuery(this).addClass("notavailable")}),jQuery(".default-posters").each(function(){jQuery(this).addClass("notavailable")});jQuery('input[name="source-type"]:checked').val();var e={fei:{a:!1,b:"#pso-featured-image"},alt:{a:!1,b:"#pso-alternate-image"},fci:{a:!1,b:"#pso-content-image"},ydi:{a:!1,b:"#pso-default-youtube-image,#eg-youtube-default-poster"},vdi:{a:!1,b:"#pso-default-vimeo-image,#eg-vimeo-default-poster"},hdi:{a:!1,b:"#pso-default-html-image,#eg-html5-default-poster"},yth:{a:!1,b:"#pso-youtube-image"},vth:{a:!1,b:"#pso-vimeo-image"},ni:{a:!1,b:"#pso-no-image"}};(t(jQuery("#imso-youtube"))||t(jQuery("#imso-content-youtube")))&&(e.fei.a=!0,e.alt.a=!0,e.fci.a=!0,e.ni.a=!0,e.ydi.a=!0,e.yth.a=!0),(t(jQuery("#imso-vimeo"))||t(jQuery("#imso-content-vimeo")))&&(e.fei.a=!0,e.alt.a=!0,e.fci.a=!0,e.ni.a=!0,e.vdi.a=!0,e.vth.a=!0),(t(jQuery("#imso-html5"))||t(jQuery("#imso-content-html5")))&&(e.fei.a=!0,e.alt.a=!0,e.fci.a=!0,e.ni.a=!0,e.hdi.a=!0,e.vth.a=!0),(t(jQuery("#imso-wistia"))||t(jQuery("#imso-soundcloud")))&&(e.fei.a=!0,e.alt.a=!0,e.fci.a=!0,e.ni.a=!0),jQuery.each(e,function(e,t){t.a&&jQuery(t.b).removeClass("notavailable")})}jQuery("input[name='layout-sizing']").change(function(){if("fullscreen"==jQuery("input[name='layout-sizing']:checked").val()){jQuery("#eg-fullscreen-container-wrap").show(),jQuery("#eg-even-masonry-wrap").hide(),jQuery('input[name="layout"][value="even"]').click(),jQuery('input[name="rows-unlimited"][value="off"]').click();var e=jQuery("#grid-start-animation");if("reveal"===e.val()){e.val("scale").change();var t=jQuery("#slider-grid-start-animation-delay");if(t.length)if(t.data("sliderinited"))t.slider("value",1),t.find(".eg-pre-slider").width(0),jQuery("#grid-start-animation-delay").val("1");else var a=setInterval(function(){t.data("sliderinited")&&(clearInterval(a),t.slider("value",1),t.find(".eg-pre-slider").width(0),jQuery("#grid-start-animation-delay").val("1"))},250)}e.find('option[value="reveal"]').prop("disabled",!0).hide(),jQuery("#eg-pagination-wrap").hide(),v.checkEvenMasonryInput()}else jQuery("#eg-fullscreen-container-wrap").hide(),jQuery("#eg-even-masonry-wrap").show(),v.checkEvenMasonryInput(),jQuery("#eg-pagination-wrap").show(),jQuery("#grid-start-animation").find('option[value="reveal"]').prop("disabled",!1).show()}),jQuery('input[name="auto-ratio"]').click(function(){"checked"==jQuery(this).attr("checked")?jQuery("#eg-ratio-wrapper").hide():jQuery("#eg-ratio-wrapper").show()}),jQuery('input[name="layout"]').change(function(){v.checkEvenMasonryInput()}),jQuery("input[name='layout-sizing']").change(),jQuery("input[name='handle']").change(function(){v.updateShortcode()}),jQuery("input[name='handle']").keyup(function(){v.updateShortcode()}),jQuery("input[name='shortcode']").focus(function(){this.select()}),jQuery("body").on("focus",".filter-shortcode-filter",function(){this.select()}),jQuery("input[name='shortcode']").click(function(){this.select()}),v.updateShortcode(),jQuery('input[name="ajax-container-position"]').click(function(){"shortcode"==jQuery(this).val()?jQuery("#eg-ajax-shortcode-wrapper").show():jQuery("#eg-ajax-shortcode-wrapper").hide()}),jQuery('input[name="ajax-container-position"]:checked').click(),jQuery("#eg-btn-save-grid").click(function(){v.removeRedHighlighting();var e=0,t={name:jQuery.trim(jQuery('input[name="name"]').val()),handle:jQuery.trim(jQuery('input[name="handle"]').val()),postparams:v.getFormParams("eg-form-create-posts"),params:v.getFormParams("eg-form-create-settings")};if(t.postparams["youtube-default-image"]=jQuery("#eg-youtube-default-image").val(),t.params["css-id"]=jQuery("#esg-id-value").val(),t.params["navigation-layout"]=v.get_navigation_layout(),t.params["custom-javascript"]=l.getValue(),t.params["ajax-container-css"]=u.getValue(),t.params["custom-filter"]=eg_filter_handles_selected,delete t.postparams.search_pages,delete t.params["do-not-save"],delete t.params["ajax-container-shortcode"],"custom"==jQuery('input[name="source-type"]:checked').val()){var a=v.getFormParams("eg-custom-elements-form-wrap");t.layers=void 0!==a.layers?a.layers:[],void 0===a.layers&&(e++,v.showErrorMessage(eg_lang.add_at_least_one_element))}(t.name.length<2||255<t.name.length)&&(v.addRedHighlighting('input[name="name"]'),e++,jQuery("#esg-naming-tab").click()),(t.handle.length<2||255<t.handle.length)&&(v.addRedHighlighting('input[name="handle"]'),e++,jQuery("#esg-naming-tab").click()),0==e&&("update_grid"==n&&(t.id=jQuery('input[name="eg-id"]').val()),v.ajaxRequest("update_create_grid",t,".save-wrap-settings"))}),jQuery("#eg-btn-delete-grid").click(function(){var e={id:jQuery('input[name="eg-id"]').val()};confirm(eg_lang.delete_grid)&&v.ajaxRequest("delete_grid",e,".save-wrap-settings")}),v.build_filter_tab=function(e,t,a,n){var r=[];jQuery("."+e+":checked").each(function(){r.push(jQuery(this).val())});var i=[];jQuery("."+e).each(function(){i.push(jQuery(this).val())});var o=jQuery('select[name="post_category"]').val();if(null==o&&(o=[]),"undefined"!=typeof eg_filter_handles_selected)for(var s in eg_filter_handles_selected)-1===jQuery.inArray(s,o)?o.push(s):delete eg_filter_handles_selected[s];for(var l in jQuery("."+t).html(""),i)if(null!==o&&-1<o.indexOf(i[l])){var u="";if(null==(c=-1<i[l].indexOf("meta-")?eg_meta_handles[i[l]]+" "+eg_lang.meta_val:jQuery('select[name="post_category"] option[value="'+i[l]+'"]').html()))continue;u='<div class="eg-media-source-order revblue button-primary"><span style="float:left">'+c+'</span><input class="eg-get-val eg-filter-input '+e+'" type="checkbox" name="'+a+'" data-origname="filter-selected-#NR[]" value="'+i[l]+'" /><div style="clear:both"></div></div>',jQuery("."+t).append(u),null!==r&&-1<r.indexOf(i[l])&&jQuery("."+e+'[value="'+i[l]+'"]').attr("checked","checked"),delete o[o.indexOf(i[l])]}if(null!==o)for(var s in o){var c;u="";null!=(c=-1<o[s].indexOf("meta-")?eg_meta_handles[o[s]]+" "+eg_lang.meta_val:jQuery('select[name="post_category"] option[value="'+o[s]+'"]').html())&&(u='<div class="eg-media-source-order revblue button-primary"><span style="float:left">'+c+'</span><input class="eg-get-val eg-filter-input '+e+'" type="checkbox" name="'+a+'" data-origname="filter-selected-#NR[]" value="'+o[s]+'" /><div style="clear:both"></div></div>',jQuery("."+t).append(u),filter_startup||jQuery("."+e+'[value="'+o[s]+'"]').attr("checked","checked"))}void 0!==n&&0<jQuery("."+t).length&&0===jQuery(".eg-navigation-cons-filter-"+n).length&&jQuery(".eg-navigation-cons-wrapper").append('<div data-navtype="filter-'+n+'" class="eg-navigation-cons-filter-'+n+' eg-nav-cons-filter eg-navigation-cons"><i class="eg-icon-megaphone"></i>'+eg_lang.filter+" "+n+"</div>")},eg_postTypesWithCats=jQuery.parseJSON(eg_jsonTaxWithCats),jQuery('select[name="post_types"]').change(function(){var e=jQuery(this).val();jQuery("#set-pages-wrap").hide(),jQuery("#eg-post-cat-wrap").hide(),jQuery('select[name="post_category"]').empty(),jQuery(e).each(function(e,t){var a=eg_postTypesWithCats[t];"page"==t&&jQuery("#set-pages-wrap").show(),"page"!=t&&jQuery("#eg-post-cat-wrap").show();var n=!0;for(catIndex in a){var r=a[catIndex],i=new Option(r,catIndex);0==catIndex.indexOf("option_disabled")?jQuery(i).prop("disabled","disabled"):1==n&&(jQuery(i).prop("selected","selected"),n=!1),jQuery('select[name="post_category"]').append(i)}}),eg_filter_handles=[],jQuery('select[name="post_category"] option').each(function(){eg_filter_handles[this.value]=jQuery(this).text()}),jQuery('select[name="post_category"]').change()}),jQuery('select[name="post_category"] option').length||(jQuery('select[name="post_types"]').change(),jQuery('select[name="post_category"] option:selected').prop("selected",!1)),jQuery('input[name="filter-meta-key"]').autocomplete({source:c,minLength:0}),jQuery(".filter-meta-selector").click(function(e){e.stopPropagation(),1==jQuery('input[name="filter-meta-key"]').data("is_open")?jQuery('input[name="filter-meta-key"]').autocomplete("close"):jQuery('input[name="filter-meta-key"]').autocomplete({source:c,minLength:0})}),e(),jQuery(".cachenumbercheck input").change(e),jQuery("body").on("mouseenter",".inst-filter-griditem",function(){punchgs.TweenLite.to(jQuery(this).find(".inst-filter-griditem-img"),.5,{autoAlpha:0})}),jQuery("body").on("mouseleave",".inst-filter-griditem",function(){punchgs.TweenLite.to(jQuery(this).find(".inst-filter-griditem-img"),.5,{autoAlpha:1})}),jQuery("body").on("click",".inst-filter-griditem",function(){var e=jQuery(this);jQuery("#media-filter-type option:selected").removeAttr("selected"),jQuery('#media-filter-type option[value="'+e.data("type")+'"]').attr("selected","selected"),jQuery(".inst-filter-griditem.selected").removeClass("selected"),e.addClass("selected")}),jQuery(".grid-item-anime-select").on("change",function(){var e=jQuery(this),t=e.closest("p");t.find(".grid-item-anime-option").hide(),t.find(".grid-item-anime-wrap-"+e.val()).show()}).change(),jQuery(".lightbox-post-content-img").on("change",function(){var e="on"===jQuery(".lightbox-post-content-img:checked").val()?"addClass":"removeClass";jQuery(this).closest(".eg-creative-settings")[e]("show-featured-img-settings")}).change(),jQuery("#esg-source-choose-wrapper input").change(function(){var e=jQuery('input[name="source-type"]:checked').val(),t=jQuery('input[name="stream-source-type"]:checked').val();switch("post"!==e&&jQuery("#imso-list,#lbo-list, #ajo-list").find(".eg-media-source-order").each(function(){jQuery(this).addClass("notavailable")}),jQuery(".eg-navigation-cons-search-input,.eg-navigation-cons-filter,.eg-navigation-cons-filter-input,.filter_groups,.search_settings").css("display","inline"),e){case"post":jQuery("#imso-list, #lbo-list, #ajo-list").find(".eg-media-source-order").each(function(){jQuery(this).removeClass("notavailable")});break;case"custom":jQuery("#imso-list, #lbo-list, #ajo-list").find(".eg-media-source-order").each(function(e){-1!=this.id.indexOf("imso-content-",0)?jQuery(this).addClass("notavailable"):jQuery(this).removeClass("notavailable")}),jQuery("#ajo-revslider").addClass("notavailable"),jQuery("#ajo-content-image").addClass("notavailable");break;case"stream":switch(jQuery("#imso-"+t+", #lbo-"+t+", #ajo-"+t).removeClass("notavailable"),t){case"instagram":jQuery("#imso-featured-image, #lbo-featured-image, #ajo-featured-image").removeClass("notavailable"),jQuery("#imso-html5,#lbo-html5").removeClass("notavailable");break;case"twitter":case"flickr":case"behance":jQuery("#imso-featured-image,#lbo-featured-image,#ajo-featured-image").removeClass("notavailable");break;case"facebook":jQuery("#imso-featured-image,#lbo-featured-image,#ajo-featured-image").removeClass("notavailable"),jQuery("#imso-html5,#lbo-html5,#ajo-html5").removeClass("notavailable"),jQuery("#imso-youtube,#lbo-youtube,#ajo-youtube").removeClass("notavailable")}jQuery(".eg-navigation-cons-search-input,.eg-navigation-cons-filter,.eg-navigation-cons-filter-input,.filter_groups,.search_settings").hide();break;case"rml":case"nextgen":jQuery("#imso-featured-image, #lbo-featured-image, #ajo-featured-image").removeClass("notavailable"),jQuery(".eg-navigation-cons-search-input,.eg-navigation-cons-filter,.eg-navigation-cons-filter-input,.filter_groups,.search_settings").hide()}jQuery("#lbo-list div.notavailable input, #lbo-btn-list div.notavailable input").each(function(){jQuery(this).prop("checked",!1)}),a()}),jQuery("#imso-list input").change(a),jQuery('select[name="post_category"]').change(function(){if(v.build_filter_tab("eg-filter-selected","eg-filter-selected-order-wrap","filter-selected[]"),1<eg_filter_counter||void 0!==jQuery('input[name="filter-all-text-1"]'))for(var e=1;e<=eg_filter_counter;e++)v.build_filter_tab("eg-filter-selected-"+e,"eg-filter-selected-order-wrap-"+e,"filter-selected-"+e+"[]",e),jQuery(".eg-filter-selected-order-wrap-"+e).closest(".eg-filter-options-wrap").find(".eg-remove-filter-tab").show();filter_startup=!1}),jQuery('select[name="post_category"]').change(),jQuery('select[name="filter2-type"]').change(function(){"custom"==jQuery(this).val()?jQuery("#eg-filter2-sel-wrap").show():jQuery("#eg-filter2-sel-wrap").hide()}),jQuery('select[name="filter3-type"]').change(function(){"custom"==jQuery(this).val()?jQuery("#eg-filter3-sel-wrap").show():jQuery("#eg-filter3-sel-wrap").hide()});var r=jQuery('select[name="post_types"]').val();jQuery("#set-pages-wrap").hide(),jQuery("#eg-post-cat-wrap").hide(),jQuery(r).each(function(e,t){"page"==t&&jQuery("#set-pages-wrap").show(),"page"!=t&&jQuery("#eg-post-cat-wrap").show()}),jQuery('input[name="layout"]').click(function(){"even"==jQuery(this).val()?jQuery("#eg-layout-even-ratio").show():jQuery("#eg-layout-even-ratio").hide()}),"undefined"==typeof RevColor?(jQuery("#main-background-color").wpColorPicker({change:function(){setTimeout(function(){jQuery("#eg-live-preview-wrap").css({backgroundColor:jQuery("#main-background-color").val()})},50)}}),jQuery("#spinner_color").wpColorPicker({change:function(){setTimeout(function(){v.spinnerColorChange()},50)}}),jQuery("#lazy-load-color").wpColorPicker()):(jQuery("#main-background-color").tpColorPicker({change:function(){var e=jQuery("#main-background-color");jQuery("#eg-live-preview-wrap").css("background",e.attr("data-color")||e.val())},wrapper:'<span class="rev-colorpickerspan"></span>'}),jQuery("#spinner_color").tpColorPicker({change:function(){v.spinnerColorChange()},wrapper:'<span class="rev-colorpickerspan"></span>'}),jQuery("#lazy-load-color").tpColorPicker({wrapper:'<span class="rev-colorpickerspan"></span>'})),"undefined"==typeof RevColor?jQuery("#eg-live-preview-wrap").css("background",jQuery("#main-background-color").val()):jQuery("#eg-live-preview-wrap").css("background",RevColor.process(jQuery("#main-background-color").val())[0]),jQuery('input[name="rows-unlimited"]').change(function(){"off"==jQuery(this).val()?(jQuery(".load-more-wrap").hide(),jQuery(".rows-num-wrap").show()):(jQuery(".load-more-wrap").show(),jQuery(".rows-num-wrap").hide())}),jQuery('select[name="load-more"]').change(function(){"on"==jQuery('input[name="rows-unlimited"]:checked').val()&&"scroll"==jQuery(this).val()?jQuery(".load-more-hide-wrap").show():jQuery(".load-more-hide-wrap").hide()}),jQuery('input[name="columns-advanced"]').change(function(){if("on"==jQuery(this).val()){jQuery(".columns-width").show(),jQuery(".columns-height").show(),jQuery(".columns-sliding").hide();for(var e=0;e<8;e++)jQuery("#slider-columns-"+e).addClass("shortform")}else{jQuery(".columns-width").hide(),jQuery(".columns-height").hide(),jQuery(".columns-sliding").show();for(e=0;e<8;e++)jQuery("#slider-columns-"+e).removeClass("shortform")}v.calc_advanced_rows(jQuery(this).val())}),"on"==jQuery('input[name="columns-advanced"]:checked').val()&&(jQuery(".columns-width").show(),jQuery(".columns-height").show(),jQuery(".columns-sliding").hide()),v.calc_advanced_rows(jQuery('input[name="columns-advanced"]:checked').val()),jQuery("body").on("click","#eg-add-column-advanced",function(){var e=jQuery(".columns-adv-head").length;if(9==e)return!0;var t=[];0==e?(t[0]=jQuery("#columns-1").val(),t[1]=jQuery("#columns-2").val(),t[2]=jQuery("#columns-3").val(),t[3]=jQuery("#columns-4").val(),t[4]=jQuery("#columns-5").val(),t[5]=jQuery("#columns-6").val(),t[6]=jQuery("#columns-7").val()):jQuery('input[name="columns-advanced-rows-'+(e-1)+'[]"]').each(function(e){t[e]=jQuery(this).val()});jQuery("#eg-col-00").append('<td class="columns-adv-'+e+' columns-adv-rows columns-adv-head" style="text-align: center;position:relative;"></td>'),jQuery("#eg-col-1").append('<td class="columns-adv-'+e+' columns-adv-rows" style="position:relative;"><input class="input-settings-small" type="text" name="columns-advanced-rows-'+e+'[]" value="'+t[0]+'" /></td>'),jQuery("#eg-col-2").append('<td class="columns-adv-'+e+' columns-adv-rows" style="position:relative;"><input class="input-settings-small" type="text" name="columns-advanced-rows-'+e+'[]" value="'+t[1]+'" /></td>'),jQuery("#eg-col-3").append('<td class="columns-adv-'+e+' columns-adv-rows" style="position:relative;"><input class="input-settings-small" type="text" name="columns-advanced-rows-'+e+'[]" value="'+t[2]+'" /></td>'),jQuery("#eg-col-4").append('<td class="columns-adv-'+e+' columns-adv-rows" style="position:relative;"><input class="input-settings-small" type="text" name="columns-advanced-rows-'+e+'[]" value="'+t[3]+'" /></td>'),jQuery("#eg-col-5").append('<td class="columns-adv-'+e+' columns-adv-rows" style="position:relative;"><input class="input-settings-small" type="text" name="columns-advanced-rows-'+e+'[]" value="'+t[4]+'" /></td>'),jQuery("#eg-col-6").append('<td class="columns-adv-'+e+' columns-adv-rows" style="position:relative;"><input class="input-settings-small" type="text" name="columns-advanced-rows-'+e+'[]" value="'+t[5]+'" /></td>'),jQuery("#eg-col-7").append('<td class="columns-adv-'+e+' columns-adv-rows" style="position:relative;"><input class="input-settings-small" type="text" name="columns-advanced-rows-'+e+'[]" value="'+t[6]+'" /></td>'),v.calc_advanced_rows(jQuery('input[name="columns-advanced"]:checked').val())}),jQuery("body").on("click","#eg-remove-column-advanced",function(){var e=jQuery(".columns-adv-head").length;if(0==e)return!0;e--,jQuery(".columns-adv-"+e).remove(),v.calc_advanced_rows(jQuery('input[name="columns-advanced"]:checked').val())}),v.getPagesDialog(),jQuery("#navigation-skin-select").change(function(){}),jQuery("#eg-edit-navigation-skin").click(function(){var e=jQuery("#navigation-skin-select option:selected").val();v.open_navigation_skin_dialog(e)}),jQuery("#eg-delete-navigation-skin").click(function(){if(confirm(eg_lang.deleting_nav_skin_message)){var e={skin:jQuery("#navigation-skin-select option:selected").val()};AdminEssentials.ajaxRequest("delete_navigation_skin_css",e,"#eg-edit-navigation-skin,#eg-create-navigation-skin,#eg-delete-navigation-skin",function(e){1==e.success&&(jQuery("#navigation-styling-css-wrapper").html(e.css),jQuery("#navigation-skin-select").html(e.select),jQuery("#navigation-skin-select option:first").attr("selected","selected"),v.changePreviewGrid(),s=jQuery.extend({},e.default_skins),jQuery("#navigation-skin-css-edit-dialog-wrap").dialog("close"))})}}),jQuery("#eg-create-navigation-skin").click(function(){var e=prompt(eg_lang.please_enter_unique_skin_name);if(null==e)return!1;if(e.length<2)return alert(eg_lang.skin_name_too_short),!1;var t=v.sanitize_input(e);for(var a in s)if(s[a].handle==t)return alert(eg_lang.skin_name_already_registered),!1;v.open_navigation_skin_dialog(e)}),v.open_navigation_skin_dialog=function(a){var n=!1;for(var e in s)if(s[e].handle==a){o.setValue(s[e].css),n=s[e].id;break}if(0==n)for(var e in s){var t=v.sanitize_input(a),r=s[e].handle;nav_css=s[e].css,nav_css=nav_css.split("."+r).join("."+t),o.setValue(nav_css);break}jQuery("#navigation-skin-css-edit-dialog-wrap").dialog({modal:!0,draggable:!0,resizable:!1,width:632,height:565,closeOnEscape:!0,buttons:[{text:eg_lang.create_nav_skin+": "+a,click:function(){var e={skin_css:o.getValue()};!1!==n?e.sid=n:e.name=a,AdminEssentials.ajaxRequest("update_create_navigation_skin_css",e,".ui-button",function(e){if(1==e.success){if(!1!==n)var t=jQuery("#navigation-skin-select option:selected").val();else t=v.sanitize_input(a);jQuery("#navigation-styling-css-wrapper").html(e.css),jQuery("#navigation-skin-select").html(e.select),jQuery('#navigation-skin-select option[value="'+t+'"]').attr("selected","selected"),v.changePreviewGrid(),s=jQuery.extend({},e.default_skins),jQuery("#navigation-skin-css-edit-dialog-wrap").dialog("close")}})}}],dialogClass:"wp-dialog",open:function(){},close:function(){}}),o.refresh()},(o=CodeMirror.fromTextArea(document.getElementById("eg-navigation-skin-css-editor"),{lineNumbers:!0})).setSize(632,482),jQuery(".eg-navigation-drop-inner, .eg-navigation-cons-wrapper").sortable({connectWith:".eg-navigation-drop-inner, .eg-navigation-cons-wrapper",revert:!0,over:function(e,t){jQuery(this).addClass("eg-navigation-drop-inner-hovered")},stop:function(e,t){jQuery(this).removeClass("eg-navigation-drop-inner-hovered")},receive:function(e,t){if(1==t.item.closest("#eg-navigations-sort-external").length){if(0==t.item.find(".eg-filter-sc").length){var a=jQuery("#navigation-skin-select").clone().wrap("<div></div>");a.attr("id",""),a.attr("name","navigation-special-skin[]");var n='<div class="eg-filter-sc"><input class="filter-shortcode-filter" type="text" readonly="readonly" data-num="'+t.item.data("navtype")+'" /><input type="text" name="navigation-special-class[]" value="" />';n+=a.parent().html(),n+="</div>",t.item.append(n),v.updateShortcode()}}else 1==t.item.closest(".eg-navigation-default-wrap").length&&jQuery(".eg-stay-last-element").appendTo(".eg-navigation-default-wrap"),1==t.item.find(".eg-filter-sc").length&&t.item.find(".eg-filter-sc").remove()},out:function(e,t){jQuery(this).removeClass("eg-navigation-drop-inner-hovered")}}),jQuery(".eg-media-source-order-wrap .eg-media-source-order").tpsortable({}),jQuery("body").on("click",".eg-btn-activate-post-item",function(){var t=jQuery(this).attr("id").replace("eg-act-post-item-",""),e=jQuery('input[name="eg-id"]').val(),a={post_id:t,grid_id:e};AdminEssentials.ajaxRequest("trigger_post_meta_visibility",a,".eg-btn-activate-post-item",function(e){e.success,1==e.success&&(jQuery("#eg-act-post-item-"+t).children().hasClass("eg-icon-eye")?(jQuery("#eg-act-post-item-"+t).children().removeClass("eg-icon-eye").addClass("eg-icon-eye-off"),jQuery("#eg-act-post-item-"+t).removeClass("revblue").addClass("revred")):(jQuery("#eg-act-post-item-"+t).children().removeClass("eg-icon-eye-off").addClass("eg-icon-eye"),jQuery("#eg-act-post-item-"+t).removeClass("revred").addClass("revblue")))})}),jQuery("body").on("click",".eg-btn-edit-post-item",function(){var e={post_id:jQuery(this).attr("id").replace("eg-edit-post-item-",""),grid_id:jQuery('input[name="eg-id"]').val()};AdminEssentials.ajaxRequest("get_post_meta_html_for_editor",e,".eg-btn-edit-post-item",function(e){e.success,1==e.success&&(jQuery("#eg-meta-box").html(e.data.html),document.getElementById("eg-form-post-meta-settings").reset(),jQuery("#post-meta-dialog-wrap").dialog({modal:!0,draggable:!0,resizable:!1,width:647,height:600,closeOnEscape:!0,dialogClass:"wp-dialog",buttons:[{text:eg_lang.save_post_meta,click:function(){var e={metas:v.getFormParams("eg-form-post-meta-settings")};e.metas.grid_id=jQuery('input[name="eg-id"]').val(),AdminEssentials.ajaxRequest("update_post_meta_through_editor",e,".ui-button",function(e){v.changePreviewGrid(!0),document.getElementById("eg-form-post-meta-settings").reset(),jQuery("#post-meta-dialog-wrap").dialog("close")})}}]}))})});var i=!1;jQuery('input[name="source-type"]').change(function(){var e=jQuery(this).val(),t="post"===e||"custom"===e?"removeClass":"addClass";switch(jQuery("body")[t]("hide-esg-item-settings"),jQuery("body").removeClass("hide-custom-options"),e){case"post":jQuery("#post-pages-wrap").show(),jQuery("#set-pages-wrap").show(),jQuery(".filter-only-for-post").show(),jQuery("#aditional-pages-wrap").show(),jQuery("#custom-sorting-wrap").hide(),jQuery("#custom-element-add-elements-wrapper").hide(),jQuery("#all-stream-wrap").hide(),jQuery("#media-source-order-wrap").show(),jQuery("#media-source-sizes").show(),jQuery("#all-nextgen-wrap").hide(),jQuery("#all-rml-wrap").hide();break;case"custom":jQuery("#post-pages-wrap").hide(),jQuery("#set-pages-wrap").hide(),jQuery(".filter-only-for-post").hide(),jQuery("#aditional-pages-wrap").hide(),jQuery("#custom-sorting-wrap").show(),jQuery("#custom-element-add-elements-wrapper").show(),jQuery("#media-source-order-wrap").show(),jQuery("#media-source-sizes").show(),jQuery("#all-stream-wrap").hide(),jQuery("#all-nextgen-wrap").hide(),jQuery("#all-rml-wrap").hide();break;case"stream":jQuery("#post-pages-wrap").hide(),jQuery("#set-pages-wrap").hide(),jQuery(".filter-only-for-post").hide(),jQuery("#aditional-pages-wrap").hide(),jQuery("#custom-sorting-wrap").hide(),jQuery("#custom-element-add-elements-wrapper").hide(),jQuery("#all-stream-wrap").show(),jQuery("#media-source-sizes").hide(),jQuery('input[name="stream-source-type"]:checked').change(),jQuery("#all-nextgen-wrap").hide(),jQuery("#all-rml-wrap").hide(),jQuery("body").addClass("hide-custom-options");break;case"nextgen":jQuery("#post-pages-wrap").hide(),jQuery("#set-pages-wrap").hide(),jQuery(".filter-only-for-post").hide(),jQuery("#aditional-pages-wrap").hide(),jQuery("#custom-sorting-wrap").hide(),jQuery("#custom-element-add-elements-wrapper").hide(),jQuery("#media-source-order-wrap").show(),jQuery("#all-stream-wrap").hide(),jQuery("#media-source-sizes").hide(),jQuery("#select-grids-wrap").hide(),jQuery("#all-nextgen-wrap").show(),jQuery('input[name="nextgen-source-type"]:checked').change(),jQuery("#media-source-filter").show(),jQuery("#media-source-default-templates").show(),jQuery("body").addClass("hide-custom-options");break;case"rml":jQuery("#post-pages-wrap").hide(),jQuery("#set-pages-wrap").hide(),jQuery(".filter-only-for-post").hide(),jQuery("#aditional-pages-wrap").hide(),jQuery("#custom-sorting-wrap").hide(),jQuery("#custom-element-add-elements-wrapper").hide(),jQuery("#media-source-order-wrap").show(),jQuery("#all-stream-wrap").hide(),jQuery("#all-nextgen-wrap").hide(),jQuery("#media-source-sizes").hide(),jQuery("#select-grids-wrap").hide(),jQuery("#all-rml-wrap").show(),jQuery("#media-source-filter").show(),jQuery("#media-source-default-templates").show(),jQuery("body").addClass("hide-custom-options")}1==i?v.changePreviewGrid(!0):i=!0}),jQuery('input[name="source-type"]:checked').change(),jQuery('input[name="stream-source-type"]').change(function(){if("stream"!=jQuery('input[name="source-type"]:checked').val())return!1;var e=jQuery(this).val();switch(jQuery("[id$='-external-stream-wrap']").hide(),jQuery("#"+e+"-external-stream-wrap").show(),jQuery("#eg-source-youtube-message,#eg-source-vimeo-message").hide(),e){case"vimeo":jQuery('input[name="vimeo-type-source"]:checked').change(),jQuery("#eg-source-vimeo-message").show();break;case"youtube":jQuery('input[name="youtube-type-source"]:checked').change(),jQuery("#eg-source-youtube-message").show();break;case"facebook":jQuery('input[name="facebook-type-source"]:checked').change();break;case"flickr":jQuery('input[name="flickr-type"]:checked').change();break;case"behance":jQuery('input[name="behance-type"]:checked').click()}for(var t=["imso","lbo","ajo"],a=0;a<3;a++)-1!==e.search(/youtube|vimeo/)?(jQuery("#"+t[a]+'-list input[value!="'+e+'"]').prop("checked",!1),jQuery("#"+t[a]+'-list input[value="'+e+'"]').prop("checked",!0)):jQuery("#"+t[a]+'-list input[value="featured-image"]').prop("checked",!0)}),jQuery('input[name="stream-source-type"]:checked').change(),jQuery('input[name="vimeo-type-source"]').change(function(){if("stream"!=jQuery('input[name="source-type"]:checked').val())return!1;if("vimeo"!=jQuery('input[name="stream-source-type"]:checked').val())return!1;var e=jQuery(this).val();jQuery(".eg-external-source-vimeo").hide(),jQuery("#eg-external-source-vimeo-"+e+"-wrap").show();try{1==i?v.changePreviewGrid(!0):i=!0}catch(e){}}),jQuery('input[name="vimeo-type-source"]:checked').change(),jQuery('input[name="youtube-type-source"]').change(function(){if("stream"!=jQuery('input[name="source-type"]:checked').val())return!1;if("youtube"!=jQuery('input[name="stream-source-type"]:checked').val())return!1;if("playlist"==jQuery(this).val()){jQuery("#eg-external-source-youtube-playlist-wrap").show();var e={api:jQuery("#youtube-api").val(),id:jQuery("#youtube-channel-id").val(),playlist:jQuery("#youtube-playlist").val()};AdminEssentials.ajaxRequest("get_youtube_playlists",e,"#youtube-playlist-select",function(e){jQuery("#youtube-playlist-select").html(e.data.html).show(),jQuery("#youtube-playlist-select").val(jQuery("input[name=youtube-playlist]").val())})}else jQuery("#eg-external-source-youtube-playlist-wrap").hide();try{1==i?v.changePreviewGrid(!0):i=!0}catch(e){}}),jQuery('input[name="youtube-type-source"]:checked').change(),jQuery("#youtube-playlist-select").change(function(){jQuery("input[name=youtube-playlist]").val(jQuery("#youtube-playlist-select").val())}),jQuery('input[name="youtube-channel-id"]').change(function(){"playlist"==jQuery('input[name="youtube-type-source"]:checked').val()&&jQuery('input[name="youtube-type-source"]:checked').change()}),jQuery('input[name="flickr-type"]').change(function(){if("stream"!=jQuery('input[name="source-type"]:checked').val())return!1;if("flickr"!=jQuery('input[name="stream-source-type"]:checked').val())return!1;var e=jQuery(this).val();switch(jQuery("#eg-external-source-flickr-sources div").hide(),e){case"publicphotos":jQuery("#eg-external-source-flickr-publicphotos-url-wrap").show();break;case"photosets":var t={key:jQuery("input[name=flickr-api-key").val(),count:jQuery("input[name=flickr-count").val(),url:jQuery("input[name=flickr-user-url").val(),set:jQuery("input[name=flickr-photoset]").val()};AdminEssentials.ajaxRequest("get_flickr_photosets",t,"select[name=flickr-photoset-select]",function(e){jQuery("select[name=flickr-photoset-select]").html(e.data.html).show(),jQuery("input[name=flickr-photoset").val(jQuery("select[name=flickr-photoset-select]").val())}),jQuery("#eg-external-source-flickr-photosets-wrap").show();break;case"gallery":jQuery("#eg-external-source-flickr-gallery-url-wrap").show();break;case"group":jQuery("#eg-external-source-flickr-group-url-wrap").show()}try{1==i?v.changePreviewGrid(!0):i=!0}catch(e){}}),jQuery('input[name="flickr-type"]:checked').change(),jQuery("select[name=flickr-photoset-select]").change(function(){jQuery("input[name=flickr-photoset]").val(jQuery("select[name=flickr-photoset-select]").val())}),jQuery('input[name="facebook-type-source"]').change(function(){if("stream"!=jQuery('input[name="source-type"]:checked').val())return!1;if("facebook"!=jQuery('input[name="stream-source-type"]:checked').val())return!1;if("album"==jQuery(this).val()){var e={url:jQuery("input[name=facebook-page-url]").val(),album:jQuery("input[name=facebook-album]").val(),api_key:jQuery("input[name=facebook-app-id]").val(),api_secret:jQuery("input[name=facebook-app-secret]").val()};AdminEssentials.ajaxRequest("get_facebook_photosets",e,"select[name=facebook-album-select]",function(e){jQuery("select[name=facebook-album-select]").html(e.data.html).show(),jQuery("input[name=facebook-album").val(jQuery("select[name=facebook-album-select]").val())}),jQuery("#eg-external-source-facebook-album-wrap").show()}else jQuery("#eg-external-source-facebook-album-wrap").hide();try{1==i?v.changePreviewGrid(!0):i=!0}catch(e){}}),jQuery('input[name="facebook-type-source"]:checked').change(),jQuery("select[name=facebook-album-select]").change(function(){jQuery("input[name=facebook-album]").val(jQuery("select[name=facebook-album-select]").val())}),jQuery('input[name="facebook-page-url"]').change(function(){jQuery('input[name="facebook-type-source"]:checked').change()}),jQuery("input.instagram-type-source").click(function(){v.checkInstagramSourceType()}),v.checkInstagramSourceType(),jQuery('input[name="behance-type"]').click(function(){if("stream"!=jQuery('input[name="source-type"]:checked').val())return!1;if("behance"!=jQuery('input[name="stream-source-type"]:checked').val())return!1;if("project"==jQuery(this).val()){var e={userid:jQuery("#behance-user-id").val(),project:jQuery("input[name=behance-project]").val(),api:jQuery("input[name=behance-api]").val()};AdminEssentials.ajaxRequest("get_behance_projects",e,"select[name=behance-project]",function(e){jQuery("select[name=behance-project-select]").html(e.data.html).show(),jQuery("input[name=behance-project").val(jQuery("select[name=behance-project-select]").val())}),jQuery("#eg-external-source-behance-projects-images-wrap").hide(),jQuery("#eg-external-source-behance-project-wrap,#eg-external-source-behance-project-images-wrap").show()}else jQuery("#eg-external-source-behance-project-wrap,#eg-external-source-behance-project-images-wrap").hide(),jQuery("#eg-external-source-behance-projects-images-wrap").show();try{1==i?v.changePreviewGrid(!0):i=!0}catch(e){}}),jQuery('input[name="behance-type"]:checked').click(),jQuery("select[name=behance-project-select]").change(function(){jQuery("input[name=behance-project]").val(jQuery("select[name=behance-project-select]").val())}),jQuery('input[name="nextgen-source-type"]').change(function(){if(jQuery("body").addClass("hide-custom-options"),"nextgen"!=jQuery('input[name="source-type"]:checked').val())return!1;var e=jQuery(this).val();jQuery(".nextgen-source").hide(),jQuery("#eg-nextgen-"+e+"-wrap").show()}),jQuery('input[name="nextgen-source-type"]:checked').change(),jQuery(".eg-clear-cache").click(function(){v.clearStreamCache(jQuery(this))}),jQuery('input[name="filter-listing"]').change(function(){"list"==jQuery(this).val()?jQuery(".filter-only-if-dropdown").hide():jQuery(".filter-only-if-dropdown").show()}),jQuery('input[name="filter-listing"]:checked').change(),jQuery('input[name="poster-source-order[]"]').change(function(){$this=jQuery(this);var e=new Array;jQuery.each(jQuery("input[name='poster-source-order[]']:checked"),function(){e.push(jQuery(this).val())}),-1<e.indexOf("default-youtube-image")?jQuery("#eg-youtube-default-poster").show():jQuery("#eg-youtube-default-poster").hide(),-1<e.indexOf("default-vimeo-image")?jQuery("#eg-vimeo-default-poster").show():jQuery("#eg-vimeo-default-poster").hide(),-1<e.indexOf("default-html-image")?jQuery("#eg-html5-default-poster").show():jQuery("#eg-html5-default-poster").hide()}),jQuery('input[name="poster-source-order[]"]').change(),v.reset_custom_fields=function(){for(var e in h)switch(h[e].type){case"input":var t=void 0!==h[e].default?h[e].default:"";jQuery('input[name="'+h[e].name+'"]').val(t);break;case"select":case"multi-select":t=void 0!==h[e].default?h[e].default:jQuery('select[name="'+h[e].name+'"] option:first-child').attr("selected","selected");jQuery('select[name="'+h[e].name+'"] option[value="'+t+'"]').attr("selected","selected");break;case"textarea":t=void 0!==h[e].default?h[e].default:"";jQuery('textarea[name="'+h[e].name+'"]').val(t);break;case"image":jQuery('input[name="'+h[e].name+'"]').val(""),jQuery("#"+h[e].name+"-img").attr("src",""),jQuery("#"+h[e].name+"-img").hide()}},v.remove_hightlighting=function(){jQuery("div").removeClass("eg-elset-row-highlight")},jQuery("body").on("click",".eg-btn-duplicate-custom-element",function(){var e=jQuery(this).closest("li").find('input[name="layers[]"]').val();jQuery("#esg-preview-wrapping-wrapper").prepend('<input id="eg-new-temp-layer" class="esg-new-temp-layer" name="layers[]" type="hidden" values="" />'),jQuery("#eg-new-temp-layer").val(e),v.changePreviewGrid(!0)}),jQuery("body").on("click",".eg-btn-edit-custom-element",function(){var e=jQuery(this).closest("li").find('input[name="layers[]"]').val();void 0===(e=jQuery.parseJSON(e))["custom-type"]&&(e["custom-type"]="image");var t=e["custom-type"];v.open_custom_element_dialog(t,e,jQuery(this).closest("li").find('input[name="layers[]"]'))}),jQuery("body").on("click",".esg-open-edit-dialog",function(){var e=jQuery(this).attr("id").replace("esg-add-new-custom-","").replace("-top","");"image"==e?jQuery("#custom-element-image-dialog-wrap").dialog({modal:!0,draggable:!0,resizable:!1,width:300,height:200,closeOnEscape:!0,dialogClass:"wp-dialog",buttons:[{text:eg_lang.single,click:function(){v.open_custom_element_dialog(e,!1),jQuery(this).dialog("close")}},{text:eg_lang.bulk,click:function(){v.add_custom_grid_multiple_images(),jQuery(this).dialog("close")}}]}):v.open_custom_element_dialog(e,!1)}),v.open_custom_element_dialog=function(e,t,a){v.reset_custom_dialog(),v.remove_hightlighting(),jQuery(".esg-item-skin-elements").hide(),jQuery(".esg-item-skin-media-title").show();var n=eg_lang.add_element,r=eg_lang.add_element;switch(jQuery('input[name="custom-type"]').val(e),e){case"youtube":jQuery("#esg-item-skin-elements-media-youtube").show(),jQuery("#esg-item-skin-elements-media-image").show(),jQuery("#esg-item-skin-elements-media-ratio").show();break;case"vimeo":jQuery("#esg-item-skin-elements-media-vimeo").show(),jQuery("#esg-item-skin-elements-media-image").show(),jQuery("#esg-item-skin-elements-media-ratio").show();break;case"soundcloud":jQuery("#esg-item-skin-elements-media-sound").show(),jQuery("#esg-item-skin-elements-media-image").show(),jQuery("#esg-item-skin-elements-media-ratio").show();break;case"html5":jQuery("#esg-item-skin-elements-media-html5").show(),jQuery("#esg-item-skin-elements-media-image").show(),jQuery("#esg-item-skin-elements-media-ratio").show();break;case"image":jQuery("#esg-item-skin-elements-media-image").show();break;case"text":jQuery(".esg-item-skin-media-title").hide()}var i=jQuery("#esg-template-wrapper .esg-data-handler").data("exists");for(var o in i)jQuery('#edit-custom-element-form input[name="'+o+'"]').val(i[o]),jQuery('#edit-custom-element-form input[name="'+o+'"]').closest("div").addClass("eg-elset-row-highlight");if(!1!==t){n=eg_lang.edit_element,r=eg_lang.save_changes;v.set_custom_dialog_fields(t)}jQuery("#edit-custom-element-dialog-wrap").dialog({modal:!0,draggable:!0,resizable:!1,title:n,width:650,height:600,closeOnEscape:!0,dialogClass:"wp-dialog",buttons:[{text:eg_lang.close,click:function(){jQuery(this).dialog("close"),v.showWaitAMinute({fadeOut:300})}},{text:r,click:function(){var e=JSON.stringify(v.getFormParams("edit-custom-element-form"));!1===t?(jQuery("#esg-preview-wrapping-wrapper").prepend('<input id="eg-new-temp-layer" class="esg-new-temp-layer" name="layers[]" type="hidden" values="" />'),jQuery("#eg-new-temp-layer").val(e)):a.val(e),jQuery(this).dialog("close"),v.changePreviewGrid(!0)}}],create:function(){jQuery(this).closest("div.ui-dialog").find(".ui-dialog-titlebar-close").click(function(e){v.showWaitAMinute({fadeOut:300}),e.preventDefault()})}})},jQuery("body").on("click",".eg-btn-move-before-custom-element, .eg-btn-move-after-custom-element, .eg-btn-switch-custom-element",function(){var e,t=jQuery(this),a=t.closest("li");t.hasClass("eg-btn-move-before-custom-element")?(e=a.index(),a.insertBefore(a.parent().find(">li:nth-child("+e+")"))):t.hasClass("eg-btn-move-after-custom-element")?((e=a.index()+2)>=a.parent().find(">li").length&&(e=a.parent().find(">li").length-1),a.insertAfter(a.parent().find(">li:nth-child("+e+")"))):t.hasClass("eg-btn-switch-custom-element")&&0<=(e=parseInt(prompt(eg_lang.enter_position,1)))&&e<99999&&(e>=a.parent().find(">li").length&&(e=a.parent().find(">li").length-1),a.insertAfter(a.parent().find(">li:nth-child("+e+")"))),v.resetCustomItemValues(),v.changePreviewGrid()}),v.resetCustomItemValues=function(){"custom"==jQuery('input[name="source-type"]:checked').val()&&jQuery("#esg-preview-skinlevel").find("ul >li").each(function(){var e=jQuery(this);e.find(".eg-order-nr").remove(),e.hasClass("eg-addnewitem-wrapper")||e.append('<div class="eg-order-nr">'+(e.index()+1)+"</div>")})},v.reset_custom_dialog=function(){v.reset_custom_fields(),jQuery("#esg-custom-image-img").attr("src",""),jQuery("#esg-custom-image-img").hide(),document.getElementById("edit-custom-element-form").reset()},v.set_custom_dialog_fields=function(e){document.getElementById("edit-custom-element-form");for(var t in e){var a=document.getElementsByName(t);if(void 0!==a[0])switch(a[0].tagName){case"INPUT":if(jQuery('input[name="'+t+'"]').val(e[t]),(n=jQuery("#esg-"+t+"-img")).length||(n=jQuery("#"+t+"-cm-img")),0===n.length)var n=jQuery("#"+t+"-img");if(0<n.length&&0<parseInt(e[t])){var r={img_id:e[t]};v.ajaxRequest("get_image_by_id",r,"",function(e,t){e.success,1==e.success&&(t.attr("src",e.url),t.show())},n)}break;case"SELECT":jQuery('select[name="'+t+'"] option[value="'+e[t]+'"]').attr("selected","selected")}}},jQuery("body").on("click",".eg-btn-delete-custom-element",function(){confirm(eg_lang.remove_this_element)&&(jQuery(this).closest("li").remove(),jQuery("#esg-preview-grid").esappend(),v.resetCustomItemValues(),v.changePreviewGrid())}),v.checkEvenMasonryInput(),v.skinSelectorFakes(),v.lightboxLayoutDependencies(),v.lightboxLayoutEvents(),v.changeAddElementTitles(),jQuery('input[name="nagivation-type"]').change(function(){switch(jQuery("#es-ng-layout-wrapper").hide(),jQuery("#es-ng-external-wrapper").hide(),jQuery("#es-ng-widget-wrapper").hide(),jQuery(this).val()){case"internal":jQuery("#es-ng-layout-wrapper").show();break;case"external":jQuery("#es-ng-external-wrapper").show();break;case"widget":jQuery("#es-ng-widget-wrapper").show()}}),jQuery('input[name="nagivation-type"]:checked').change(),(l=CodeMirror.fromTextArea(document.getElementById("eg-api-custom-javascript"),{lineNumbers:!0,mode:"text/javascript"})).setSize(500,250),(u=CodeMirror.fromTextArea(document.getElementById("eg-ajax-custom-css"),{lineNumbers:!0,mode:"text/css"})).setSize(500,250),jQuery(".eg-api-inputs").click(function(){jQuery(this).select().focus()}),jQuery(".eg-default-image-add,.eg-youtube-default-image-add,.eg-vimeo-default-image-add,.eg-html-default-image-add").click(function(e){return e.preventDefault(),AdminEssentials.upload_image_img(jQuery(this).data("setto")),!1}),jQuery(".eg-default-image-clear,.eg-youtube-default-image-clear,.eg-vimeo-default-image-clear,.eg-html-default-image-clear").click(function(e){e.preventDefault();var t=jQuery(this).data("setto");return jQuery("#"+t).val(""),jQuery("#"+t+"-img").attr("src",""),jQuery("#"+t+"-img").hide(),!1}),jQuery(".eg-clear-taxonomies").click(function(){jQuery('select[name="post_category"]').val([]).change()}),jQuery("body").on("click",".eg-filter-add-custom-filter",function(){jQuery("#eg-filter-select-box").html("");var e=jQuery('select[name="post_category"]').val(),t=jQuery("#eg-filter-select-box");for(var a in eg_filter_handles){var n=new Option(eg_filter_handles[a],a);0!=a.indexOf("option_disabled")&&-1===jQuery.inArray(a,e)||jQuery(n).prop("disabled","disabled"),void 0!==eg_filter_handles_selected[a]&&jQuery(n).attr("selected","selected"),t.append(n)}for(a in t.append(jQuery("<option disabled>---- Custom Metas ----</option>")),eg_meta_handles)t.append(jQuery('<option value="'+a+'">'+eg_meta_handles[a]+"</option>"));jQuery("#filter-select-dialog-wrap").dialog({modal:!0,resizable:!1,draggable:!0,width:600,height:350,closeOnEscape:!0,dialogClass:"wp-dialog",buttons:[{text:eg_lang.save_changes,click:function(){eg_filter_handles_selected={},jQuery("#eg-filter-select-box option:selected").each(function(){eg_filter_handles_selected[jQuery(this).val()]=jQuery(this).text()}),jQuery('select[name="post_category"]').change(),jQuery(this).dialog("close")}},{text:eg_lang.close,click:function(){jQuery(this).dialog("close")}}],create:function(){jQuery(this).closest(".ui-dialog").find(".ui-dialog-buttonpane").addClass("save-wrap")}})}),jQuery(".eg-add-filter-box").click(function(){eg_filter_counter++;var e=jQuery(".eg-original-filter-options-wrap").clone();e.removeClass("eg-original-filter-options-wrap"),e.find("[data-origname]").each(function(){jQuery(this).attr("name",jQuery(this).data("origname").replace("#NR",eg_filter_counter))}),e.find(".filter-shortcode-filter").data("num",eg_filter_counter),e.find(".filter-shortcode-filter").attr("data-num",eg_filter_counter),e.find(".filter-header-id").text(eg_filter_counter),e.find(".eg-remove-filter-tab").show(),e.find(".eg-filter-selected-order-wrap").removeClass("eg-filter-selected-order-wrap").addClass("eg-filter-selected-order-wrap-"+eg_filter_counter),e.find(".eg-filter-selected").each(function(){jQuery(this).removeClass("eg-filter-selected").addClass("eg-filter-selected-"+eg_filter_counter)}),e.appendTo(".eg-original-filter-options-holder"),jQuery(".eg-media-source-order-wrap .eg-media-source-order").tpsortable({});var t=jQuery(".eg-navigation-cons-wrapper"),a=t.children(".eg-stay-last-element"),n='<div data-navtype="filter-'+eg_filter_counter+'" class="eg-navigation-cons-filter-'+eg_filter_counter+' eg-nav-cons-filter eg-navigation-cons"><i class="eg-icon-megaphone"></i>'+eg_lang.filter+" "+eg_filter_counter+"</div>";a.length?jQuery(n).insertBefore(a):t.append(n),v.updateShortcode()}),jQuery("body").on("click",".eg-remove-filter-tab",function(){if(confirm(eg_lang.deleting_this_cant_be_undone)){var e=jQuery(this).siblings("input").attr("name").replace("filter-all-text-","");jQuery(".eg-navigation-cons-filter-"+e).remove(),jQuery(this).closest(".eg-filter-options-wrap").remove()}}),jQuery('input[name="filter-arrows"]').change(function(){"multi"==jQuery(this).val()?(jQuery(".eg-filter-logic").show(),jQuery("#convert_mobile_filters").hide()):(jQuery(".eg-filter-logic").hide(),jQuery("#convert_mobile_filters").show())}),jQuery('input[name="filter-arrows"]:checked').change(),jQuery('input[name="ajax-close-button"]').change(function(){"on"==jQuery(this).val()||"on"==jQuery('input[name="ajax-nav-button"]:checked').val()?("on"==jQuery(this).val()&&jQuery(".eg-close-button-settings-wrap").show(),jQuery(".eg-close-nav-button-settings-wrap").show()):(jQuery(".eg-close-button-settings-wrap").hide(),jQuery(".eg-close-nav-button-settings-wrap").hide())}),jQuery('input[name="ajax-close-button"]:checked').change(),jQuery('input[name="ajax-nav-button"]').change(function(){"on"==jQuery(this).val()||"on"==jQuery('input[name="ajax-close-button"]:checked').val()?jQuery(".eg-close-nav-button-settings-wrap").show():jQuery(".eg-close-nav-button-settings-wrap").hide()}),jQuery('input[name="ajax-nav-button"]:checked').change(),jQuery('select[name="lightbox-mode"]').change(function(){"content"==jQuery(this).val()||"content-gallery"==jQuery(this).val()||"woocommerce-gallery"==jQuery(this).val()?jQuery(".lightbox-mode-addition-wrapper").show():jQuery(".lightbox-mode-addition-wrapper").hide()}),jQuery('select[name="lightbox-mode"] option:selected').change(),jQuery(".eg-add-new-cobbles-pattern").click(function(){var e='<div class="eg-cobbles-drop-wrap"><span class="cob-sort-order">'+(jQuery(".cob-sort-order").length+1)+'.</span><select name="cobbles-pattern[]"><option value="1x1">1:1</option><option value="1x2">1:2</option><option value="1x3">1:3</option><option value="2x1">2:1</option><option value="2x2">2:2</option><option value="2x3">2:3</option><option value="3x1">3:1</option><option value="3x2">3:2</option><option value="3x3">3:3</option></select><a class="button-primary revred eg-delete-cobbles" href="javascript:void(0);"><i class="eg-icon-trash"></i></a></div>';jQuery(".eg-cobbles-pattern-wrap").append(e)}),jQuery('input[name="use-cobbles-pattern"]').change(function(){"on"==jQuery(this).val()?(jQuery(".eg-cobbles-pattern-wrap").show(),jQuery(".eg-add-new-cobbles-pattern").show(),jQuery(".eg-refresh-cobbles-pattern").show()):(jQuery(".eg-cobbles-pattern-wrap").hide(),jQuery(".eg-add-new-cobbles-pattern").hide(),jQuery(".eg-refresh-cobbles-pattern").hide())}),jQuery("body").on("click",".eg-delete-cobbles",function(){jQuery(this).closest(".eg-cobbles-drop-wrap").remove()}),jQuery(".eg-cobbles-pattern-wrap").sortable({stop:function(e,t){jQuery(".cob-sort-order").each(function(e){e+=1,jQuery(this).text(e+".")})}}),document.getElementById("lightbox-post-content-img-position").addEventListener("change",function(){var e="left"===this.value||"right"===this.value?"block":"none";document.getElementById("lightbox-post-content-img-width").style.display=e}),jQuery(".pagination-autoplay").on("change",function(){var e="on"===this.value?"block":"none";document.getElementById("pagination-autoplay-speed").style.display=e})},v.checkInstagramSourceType=function(){if("stream"!=jQuery('input[name="source-type"]:checked').val())return!1;if("instagram"!=jQuery('input[name="stream-source-type"]:checked').val())return!1;jQuery("input.instagram-type-source").each(function(){$this=jQuery(this),$this.is(":checked")?jQuery(".instagram_"+$this.data("source")).show():jQuery(".instagram_"+$this.data("source")).hide()});try{1==do_change?v.changePreviewGrid(!0):do_change=!0}catch(e){}},v.initImportExport=function(){jQuery('input[name="export-grids"]').click(function(){v.switchCheckInputFields("export-grids",jQuery(this).is(":checked"))}),jQuery('input[name="export-skins"]').click(function(){v.switchCheckInputFields("export-skins",jQuery(this).is(":checked"))}),jQuery('input[name="export-elements"]').click(function(){v.switchCheckInputFields("export-elements",jQuery(this).is(":checked"))}),jQuery('input[name="export-custom-meta"]').click(function(){v.switchCheckInputFields("export-custom-meta",jQuery(this).is(":checked"))}),jQuery('input[name="export-navigation-skins"]').click(function(){v.switchCheckInputFields("export-navigation-skins",jQuery(this).is(":checked"))}),jQuery('input[name="export-punch-fonts"]').click(function(){v.switchCheckInputFields("export-punch-fonts",jQuery(this).is(":checked"))}),jQuery('input[name="import-grids"]').click(function(){v.switchCheckInputFields("import-grids",jQuery(this).is(":checked"))}),jQuery('input[name="import-skins"]').click(function(){v.switchCheckInputFields("import-skins",jQuery(this).is(":checked"))}),jQuery('input[name="import-elements"]').click(function(){v.switchCheckInputFields("import-elements",jQuery(this).is(":checked"))}),jQuery('input[name="import-custom-meta"]').click(function(){v.switchCheckInputFields("import-custom-meta",jQuery(this).is(":checked"))}),jQuery('input[name="import-navigation-skins"]').click(function(){v.switchCheckInputFields("import-navigation-skins",jQuery(this).is(":checked"))}),jQuery('input[name="import-punch-fonts"]').click(function(){v.switchCheckInputFields("import-punch-fonts",jQuery(this).is(":checked"))}),v.switchCheckInputFields=function(e,t){jQuery('input[name="'+e+'-id[]"]').each(function(){jQuery(this).attr("checked",t)}),jQuery('input[name="'+e+'-handle[]"]').each(function(){jQuery(this).attr("checked",t)})},jQuery("#esg-import-data").click(function(){var e=v.getFormParams("eg-grid-import-form");v.ajaxRequest("import_data",{imports:e},"#esg-import-data",function(e){})}),jQuery("#eg-grid-export-import-wrapper .eg-li-intern-wrap").click(function(e){var t=jQuery(this).find(".eg-expand-collapse");if(0<t.length&&jQuery(e.target).hasClass("eg-li-intern-wrap")||jQuery(e.target).hasClass("eg-expand-collapse")||jQuery(e.target).hasClass("eg-icon-folder-open")||jQuery(e.target).hasClass("eg-icon-folder")){var a=t.closest("li");t.hasClass("closed")?(t.removeClass("closed"),a.find("ul").first().slideDown(200)):(t.addClass("closed"),a.find("ul").first().slideUp(200))}}),jQuery("#eg-grid-export-import-wrapper ul li ul").each(function(){var e=jQuery(this),t=e.find(">li").length;e.parent().find(".eg-amount-of-lis").html("("+t+")")}),jQuery("#eg-grid-export-import-wrapper").find(".eg-inputchecked").each(function(){var e=jQuery(this);e.click(function(){return e.siblings("input").click(),v.checkImportExportInputs(),!1})}),v.checkImportExportInputs(),jQuery("#esg-import-demo-posts").click(function(){confirm(eg_lang.import_demo_post_heavy_loading)&&v.ajaxRequest("import_default_post_data","","#esg-import-demo-posts, #esg-import-demo-posts-210, #esg-read-file-import, #eg-export-selected-settings",function(e){})}),jQuery("#esg-import-demo-posts-210").click(function(){confirm(eg_lang.import_demo_grids_210)&&v.ajaxRequest("import_default_grid_data_210","","#esg-import-demo-posts, #esg-import-demo-posts-210, #esg-read-file-import, #eg-export-selected-settings",function(e){})})},v.checkImportExportInputs=function(){jQuery("#eg-grid-export-import-wrapper").find(".eg-inputchecked").each(function(){var e=jQuery(this);if(e.removeClass("eg-partlychecked"),"checked"==e.siblings("input").attr("checked")){if(e.addClass("checked"),0<e.closest(".eg-ie-sub-ul").length){var t=e.closest(".eg-ie-sub-ul").closest("li").find(".eg-inputchecked").first(),a=e.closest(".eg-ie-sub-ul").find("input:checkbox:not(:checked)").length;!t.hasClass("checked")&&0<a&&t.addClass("eg-partlychecked")}}else e.removeClass("checked"),0<e.closest(".eg-ie-sub-ul").length&&(t=e.closest(".eg-ie-sub-ul").closest("li").find(".eg-inputchecked").first()).hasClass("checked")&&t.addClass("eg-partlychecked")})},v.changeAddElementTitles=function(){jQuery(document.body).on("mouseenter",".eg-addnewitem-element-1",function(){var e=eg_lang.selectyouritem;switch(jQuery(this).attr("id")){case"esg-add-new-custom-youtube":e=eg_lang.withyoutube;break;case"esg-add-new-custom-vimeo":e=eg_lang.withvimeo;break;case"esg-add-new-custom-html5":e=eg_lang.withthtml5;break;case"esg-add-new-custom-soundcloud":e=eg_lang.withsoundcloud;break;case"esg-add-new-custom-image":e=eg_lang.withimage;break;case"esg-add-new-custom-text":e=eg_lang.withoutmedia;break;default:e=eg_lang.selectyouritem}jQuery(".esg-bottom.eg-addnewitem-element-2.esg-flipup").html(e)}),jQuery(document.body).on("mouseleave",".eg-addnewitem-element-1",function(){jQuery(".esg-bottom.eg-addnewitem-element-2.esg-flipup").html(eg_lang.selectyouritem)})},v.lightboxLayoutDependencies=function(){var e=jQuery('select[name="lightbox-type"] option:selected').val();"null"==e||"over"==e?jQuery("#eg-lb-title-position").hide():jQuery("#eg-lb-title-position").show()},v.lightboxLayoutEvents=function(){jQuery('select[name="lightbox-type"]').change(function(){v.lightboxLayoutDependencies()})},v.skinSelectorFakes=function(){jQuery(".eg-fakeinput, .esg-screenselect-toolbar").click(function(){var e=jQuery(this).closest("li");jQuery("li.filter-selectedskin").removeClass("filter-selectedskin"),e.addClass("filter-selectedskin"),e.find('input[name="entry-skin"]').attr("checked",!0).change()})},v.get_navigation_layout=function(){var e={pagination:{},left:{},right:{},filter:{},filter2:{},filter3:{},cart:{},sorting:{},"search-input":{}},t=jQuery(".eg-navigation-cons-pagination"),a=jQuery(".eg-navigation-drop-inner .eg-navigation-cons-left"),n=jQuery(".eg-navigation-drop-inner .eg-navigation-cons-right"),r=jQuery(".eg-navigation-drop-inner .eg-navigation-cons-filter"),i=jQuery(".eg-navigation-drop-inner .eg-navigation-cons-filter2"),o=jQuery(".eg-navigation-drop-inner .eg-navigation-cons-filter3"),s=jQuery(".eg-navigation-drop-inner .eg-navigation-cons-cart"),l=jQuery(".eg-navigation-drop-inner .eg-navigation-cons-sort"),u=jQuery(".eg-navigation-drop-inner .eg-navigation-cons-search-input");void 0!==t.closest(".eg-navigation-drop-wrapper").attr("id")&&(pagination=t.closest(".eg-navigation-drop-wrapper").attr("id").replace("eg-navigations-sort-",""),order=t.parent().children("div").index(t),e.pagination[pagination]=order),void 0!==a.closest(".eg-navigation-drop-wrapper").attr("id")&&(left=a.closest(".eg-navigation-drop-wrapper").attr("id").replace("eg-navigations-sort-",""),order=a.parent().children("div").index(a),e.left[left]=order),void 0!==n.closest(".eg-navigation-drop-wrapper").attr("id")&&(right=n.closest(".eg-navigation-drop-wrapper").attr("id").replace("eg-navigations-sort-",""),order=n.parent().children("div").index(n),e.right[right]=order),void 0!==r.closest(".eg-navigation-drop-wrapper").attr("id")&&(filter=r.closest(".eg-navigation-drop-wrapper").attr("id").replace("eg-navigations-sort-",""),order=r.parent().children("div").index(r),e.filter[filter]=order),void 0!==i.closest(".eg-navigation-drop-wrapper").attr("id")&&(filter2=i.closest(".eg-navigation-drop-wrapper").attr("id").replace("eg-navigations-sort-",""),order=i.parent().children("div").index(i),e.filter2[filter2]=order),void 0!==o.closest(".eg-navigation-drop-wrapper").attr("id")&&(filter3=o.closest(".eg-navigation-drop-wrapper").attr("id").replace("eg-navigations-sort-",""),order=o.parent().children("div").index(o),e.filter3[filter3]=order),void 0!==s.closest(".eg-navigation-drop-wrapper").attr("id")&&(cart=s.closest(".eg-navigation-drop-wrapper").attr("id").replace("eg-navigations-sort-",""),order=s.parent().children("div").index(s),e.cart[cart]=order),void 0!==l.closest(".eg-navigation-drop-wrapper").attr("id")&&(sort=l.closest(".eg-navigation-drop-wrapper").attr("id").replace("eg-navigations-sort-",""),order=l.parent().children("div").index(l),e.sorting[sort]=order),void 0!==u.closest(".eg-navigation-drop-wrapper").attr("id")&&(search_input=u.closest(".eg-navigation-drop-wrapper").attr("id").replace("eg-navigations-sort-",""),order=u.parent().children("div").index(u),e["search-input"][search_input]=order);for(var c=1;c<=eg_filter_counter;c++){var d=jQuery(".eg-navigation-drop-inner .eg-navigation-cons-filter-"+c);0<d.length&&(sort=d.closest(".eg-navigation-drop-wrapper").attr("id").replace("eg-navigations-sort-",""),order=d.parent().children("div").index(d),e["filter-"+c]={},e["filter-"+c][sort]=order)}return jQuery(".eg-stay-last-element").appendTo(".eg-navigation-default-wrap"),e},v.set_navigation_layout=function(){for(var r=0;r<99;r++){var e;0<(e=jQuery('.eg-navigation-cons[data-putin="top-1"][data-sort="'+r+'"]')).length&&jQuery("#eg-navigations-sort-top-1 .eg-navigation-drop-inner").append(e),0<(e=jQuery('.eg-navigation-cons[data-putin="top-2"][data-sort="'+r+'"]')).length&&jQuery("#eg-navigations-sort-top-2 .eg-navigation-drop-inner").append(e),0<(e=jQuery('.eg-navigation-cons[data-putin="bottom-1"][data-sort="'+r+'"]')).length&&jQuery("#eg-navigations-sort-bottom-1 .eg-navigation-drop-inner").append(e),0<(e=jQuery('.eg-navigation-cons[data-putin="bottom-2"][data-sort="'+r+'"]')).length&&jQuery("#eg-navigations-sort-bottom-2 .eg-navigation-drop-inner").append(e),0<(e=jQuery('.eg-navigation-cons[data-putin="left"][data-sort="'+r+'"]')).length&&jQuery("#eg-navigations-sort-left .eg-navigation-drop-inner").append(e),0<(e=jQuery('.eg-navigation-cons[data-putin="right"][data-sort="'+r+'"]')).length&&jQuery("#eg-navigations-sort-right .eg-navigation-drop-inner").append(e),0<(e=jQuery('.eg-navigation-cons[data-putin="external"][data-sort="'+r+'"]')).length&&jQuery("#eg-navigations-sort-external .eg-navigation-drop-inner").append(e)}r=0;jQuery("#eg-navigations-sort-external .eg-navigation-drop-inner>div").each(function(){var e="",t="";void 0!==eg_nav_special_class[r]&&(e=eg_nav_special_class[r]),void 0!==eg_nav_special_skin[r]&&(t=eg_nav_special_skin[r]);var a=jQuery("#navigation-skin-select").clone().wrap("<div></div>");a.attr("id",""),a.attr("name","navigation-special-skin[]"),a.find("option").attr("selected",!1),a.find('option[value="'+t+'"]').attr("selected","selected");var n='<div class="eg-filter-sc"><input class="filter-shortcode-filter" type="text" readonly="readonly" data-num="'+jQuery(this).data("navtype")+'" /><input type="text" name="navigation-special-class[]" value="'+e+'" />';n+=a.parent().html(),n+="</div>",jQuery(this).append(n),r++}),v.updateShortcode()},v.set_default_nav_skin=function(e){css=jQuery.parseJSON(e),s=jQuery.extend({},css)},v.removeRedHighlighting=function(){jQuery("input").removeClass("eg-alert")},v.addRedHighlighting=function(e){jQuery(e).addClass("eg-alert")},v.initOverviewGrid=function(e){jQuery(".eg-btn-delete-grid").click(function(){var e=jQuery(this).attr("id").replace("eg-delete-",""),t={id:e};confirm(eg_lang.delete_grid)&&v.ajaxRequest("delete_grid",t,".btn-wrap-overview-"+e)}),jQuery(".eg-btn-duplicate-grid").click(function(){var e=jQuery(this).attr("id").replace("eg-duplicate-",""),t={id:e};v.ajaxRequest("duplicate_grid",t,".btn-wrap-overview-"+e)}),jQuery(".eg-toggle-favorite").click(function(){var t=jQuery(this).attr("id").replace("eg-star-id-",""),e={id:t};v.ajaxRequest("toggle_grid_favorite",e,"#waitaminute",function(e){void 0!==e&&void 0!==e.success&&!0===e.success&&(jQuery("#eg-star-id-"+t+" i").hasClass("eg-icon-star-empty")?jQuery("#eg-star-id-"+t+" i").removeClass("eg-icon-star-empty").addClass("eg-icon-star"):jQuery("#eg-star-id-"+t+" i").removeClass("eg-icon-star").addClass("eg-icon-star-empty"))})})},v.initGlobalSettings=function(e){jQuery("#ess-grid-delete-cache").click(function(){v.ajaxRequest("delete_full_cache",{},"#ess-grid-delete-cache")}),jQuery("#eg-btn-save-global-settings").click(function(){var e=jQuery('select[name="plugin_permissions"] option:checked').val(),t=jQuery('select[name="plugin_tooltips"] option:checked').val(),a=jQuery('select[name="output_protection"] option:checked').val(),n=jQuery('select[name="wait_for_fonts"] option:checked').val(),r=jQuery('select[name="use_cache"] option:checked').val(),i=jQuery('select[name="js_to_footer"] option:checked').val(),o=jQuery('select[name="overwrite_gallery"] option:checked').val(),s=jQuery('select[name="query_type"] option:checked').val(),l=jQuery('select[name="enable_log"] option:checked').val(),u=jQuery('select[name="enable_media_filter"] option:checked').val(),c=jQuery('select[name="use_lightbox"] option:checked').val(),d=jQuery('select[name="enable_custom_post_type"] option:checked').val(),p=jQuery('select[name="enable_post_meta"] option:checked').val(),g=document.getElementById("global_default_img").value,h=jQuery('select[name="enable_pe7"] option:checked').val(),m=jQuery('select[name="enable_font_awesome"] option:checked').val(),y={permission:e,tooltips:t,protection:a,wait_for_fonts:n,use_cache:r,js_to_footer:i,overwrite_gallery:o,query_type:s,enable_log:l,use_lightbox:c,enable_custom_post_type:d,enable_post_meta:p,global_default_img:g,enable_fontello:jQuery('select[name="enable_fontello"] option:checked').val(),enable_pe7:h,enable_font_awesome:m,enable_media_filter:u,no_filter_match_message:document.getElementById("no_filter_match_message").value};v.ajaxRequest("update_general_settings",y,"#eg-btn-save-global-settings")}),jQuery(".eg-global-add-image").on("click",function(e){return e.preventDefault(),AdminEssentials.upload_image_img(jQuery(this).data("setto")),!1}),jQuery(".eg-global-image-clear").on("click",function(e){e.preventDefault();var t=jQuery(this).data("setto");return jQuery("#"+t).val(""),jQuery("#"+t+"-img").attr("src","").hide(),!1})},v.calc_advanced_rows=function(e){if("off"==e)jQuery(".columns-adv-rows").hide(),jQuery(".columns-adv-first").text("");else{jQuery(".columns-adv-rows").show();var t=jQuery(".columns-adv-head").length;if(0==t){var a="1";a+=",",a+=2+1*t,a+=",",a+=3+2*t,jQuery(".columns-adv-first").html("Rows:<br>"+a);var n=jQuery(".columns-adv-first").html();n+='<div style="position: absolute;top: 11px;white-space: nowrap;left: 100%;"><a class="button-primary revblue" href="javascript:void(0);" id="eg-add-column-advanced">+</a></div>',jQuery(".columns-adv-first").html(n)}else{a="1";a+=",",a+=2+1*t,a+=",",a+=3+2*t,jQuery(".columns-adv-first").html("Rows:<br>"+a);for(var r=0;r<t;r++){a=r+2;if(a+=",",a+=r+3+1*t,a+=",",a+=r+4+2*t,jQuery(".columns-adv-"+r+".columns-adv-head").html("Rows:<br>"+a),r==t-1){n=jQuery(".columns-adv-"+r+".columns-adv-head").html();n+=9==t?'<div style="position: absolute;top: 11px;white-space: nowrap;left: 100%;"><a class="button-primary revblue" href="javascript:void(0);" id="eg-remove-column-advanced">-</a></div>':'<div style="position: absolute;top: 11px;white-space: nowrap;left: 100%;"><a class="button-primary revblue" href="javascript:void(0);" id="eg-add-column-advanced">+</a> <a class="button-primary revblue" href="javascript:void(0);" id="eg-remove-column-advanced">-</a></div>',jQuery(".columns-adv-"+r+".columns-adv-head").html(n)}}}}},v.getPagesDialog=function(){jQuery("#button-add-pages").click(function(){jQuery("#pages-select-dialog-wrap").dialog({modal:!0,resizable:!1,draggable:!0,width:600,height:350,closeOnEscape:!0,dialogClass:"wp-dialog",buttons:[{text:eg_lang.add_selected,click:function(){jQuery('input[name="selected-pages"]').each(function(){1==jQuery(this).prop("checked")&&v.insertSelectedPage(jQuery(this).val())}),jQuery(this).dialog("close")}},{text:eg_lang.close,click:function(){jQuery(this).dialog("close")}}],create:function(){jQuery(this).closest(".ui-dialog").find(".ui-dialog-buttonpane").addClass("save-wrap")}})}),jQuery("#check-uncheck-pages").click(function(){var e=!0;"checked"!=jQuery(this).attr("checked")&&(e=!1),jQuery('input[name="selected-pages"]').each(function(){jQuery(this).attr("checked",e)})})},v.ajaxRequest=function(t,e,a,n,r){var i={action:"Essential_Grid_request_ajax",client_action:t,token:token,data:e};void 0!==typeof a&&(v.setAjaxLoaderElement(a),v.showAjaxLoader()),jQuery.ajax({type:"post",url:ajaxurl,dataType:"json",data:i,success:function(e){return v.hideAjaxLoader(),e?-1==e?(v.showErrorMessage(eg_lang.aj_ajax_error),!1):0==e?(v.showErrorMessage(eg_lang.aj_error_not_found+": <b>"+t+"</b>"),!1):null==e.success?(v.showErrorMessage(eg_lang.aj_success_must),!1):0==e.success?(v.showErrorMessage(e.message),!1):("function"==typeof n&&n(e,r),e.message&&v.showSuccessMessage(e.message),e.is_redirect&&(location.href=e.redirect_url),void(e.grid_id&&!isNaN(e.grid_id)&&(window.location=document.URL.replace("&create=true","&create="+e.grid_id),jQuery(".esg-refresh-preview-button").click()))):(v.showErrorMessage(eg_lang.aj_empty_response),!1)},error:function(e,t,a){v.hideAjaxLoader(),"parsererror"==t&&console.log(e.responseText),v.showErrorMessage(eg_lang.aj_ajax_error+" "+t)}})},v.showErrorMessage=function(e,t){null==typeof t&&(t="click"),AdminEssentials.showInfo({content:e,type:"warning",showdelay:0,hidedelay:2,hideon:t,event:""})},v.showSuccessMessage=function(e){AdminEssentials.showInfo({content:e,type:"success",showdelay:0,hidedelay:2,hideon:"",event:""})},v.showInfoMessage=function(e){AdminEssentials.showInfo({content:e,type:"info",showdelay:0,hidedelay:2,hideon:"",event:""})},v.setAjaxLoaderElement=function(e){ajaxLoaderElement=e},v.showWaitAMinute=function(e){var t=jQuery("#waitaminute");if(null!=e.delay&&(punchgs.TweenLite.to(t,.3,{autoAlpha:1,ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.set(t,{display:"block"}),setTimeout(function(){punchgs.TweenLite.to(t,.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut,onComplete:function(){punchgs.TweenLite.set(t,{display:"block"})}})},e.delay)),null!=e.fadeIn&&(punchgs.TweenLite.to(t,e.fadeIn/1e3,{autoAlpha:1,ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.set(t,{display:"block"})),null!=e.fadeOut&&punchgs.TweenLite.to(t,e.fadeOut/1e3,{autoAlpha:0,ease:punchgs.Power3.easeInOut,onComplete:function(){punchgs.TweenLite.set(t,{display:"block"})}}),null!=e.text)switch(e.text){case"progress1":break;default:t.html('<div class="waitaminute-message"><i class="eg-icon-coffee"></i><br>'+e.text+"</div>")}},v.showAjaxLoader=function(){v.showWaitAMinute({fadeIn:300,text:eg_lang.aj_please_wait})},v.initSideButtons=function(e){punchgs.TweenLite.fromTo(jQuery("#eg-tool-panel"),.5,{autoAlpha:0,x:40},{autoAlpha:1,x:0,ease:punchgs.Power3.easeInOut,delay:3}),jQuery.each(jQuery(".eg-side-buttons"),function(e,t){punchgs.TweenLite.fromTo(t,.5,{x:40},{x:0,ease:punchgs.Power3.easeInOut,delay:4+.3*e})}),jQuery(".eg-side-buttons").hover(function(){punchgs.TweenLite.to(jQuery(this),.3,{x:-110,ease:punchgs.Power3.easeInOut})},function(){punchgs.TweenLite.to(jQuery(this),.3,{x:0,ease:punchgs.Power3.easeInOut})})},v.hideAjaxLoader=function(){ajaxLoaderElement&&(v.showWaitAMinute({fadeOut:300}),ajaxLoaderElement=null)},v.initSmallMenu=function(){jQuery(".eg-lc-vertical-menu li").each(function(){var a=jQuery(this);a.click(function(){jQuery(".eg-lc-vertical-menu .selected-lc-setting").removeClass("selected-lc-setting"),a.addClass("selected-lc-setting");var e=jQuery(".eg-lc-menu-wrapper .active-esc"),t=jQuery("#"+a.data("toshow"));punchgs.TweenLite.to(e,.1,{autoAlpha:0}),e.removeClass("active-esc"),punchgs.TweenLite.fromTo(t,.3,{autoAlpha:0},{autoAlpha:1,overwrite:"all"}),t.addClass("active-esc"),setTimeout(v.interResizeSettings,10)})}),jQuery(".eg-small-vertical-menu li").each(function(){var a=jQuery(this);a.click(function(){jQuery(".eg-small-vertical-menu .selected-el-setting").removeClass("selected-el-setting"),a.addClass("selected-el-setting");var e=jQuery("#eg-element-style .active-esc"),t=jQuery("#"+a.data("toshow"));punchgs.TweenLite.to(e,.1,{autoAlpha:0}),e.removeClass("active-esc"),punchgs.TweenLite.fromTo(t,.3,{autoAlpha:0},{autoAlpha:1,overwrite:"all"}),t.addClass("active-esc"),setTimeout(v.interResizeSettings,10)})})},v.initTabSizes=function(){jQuery("#eg-create-settings-menu li").each(function(){var n=jQuery(this);n.click(function(){jQuery("#eg-create-settings-menu .selected-esg-setting").removeClass("selected-esg-setting"),n.addClass("selected-esg-setting");var e=jQuery(".active-esc"),t=jQuery("#"+n.data("toshow"));if(punchgs.TweenLite.to(e,.1,{autoAlpha:0}),e.removeClass("active-esc"),punchgs.TweenLite.fromTo(t,.3,{autoAlpha:0},{autoAlpha:1,overwrite:"all"}),t.addClass("active-esc"),setTimeout(v.interResizeSettings,10),v.recalcSlidersPos(),"esg-settings-skins-settings"===n.data("toshow")){var a=jQuery("#esg-grid-even-1");a.data("selectedpositioned")||a.data("selectedpositioned",!0).find(".filter-selectedskin").prependTo(a.find(".mainul")),a.esredraw()}l.refresh(),u.refresh()})}),v.interResizeSettings(),jQuery(window).resize(v.interResizeSettings),jQuery("#eg-create-settings-wrap").click(v.interResizeSettings)},v.interResizeSettings=function(){var e=jQuery("#eg-create-settings-wrap");e.find(".esg-settings-container").each(function(e){jQuery(this).width(jQuery("#eg-create-settings-wrap").width()-80)}),punchgs.TweenLite.to(e,.3,{height:e.find(".esg-settings-container.active-esc").outerHeight()+15,overwrite:"all"}),e.find(".ui-slider").each(function(){var e=jQuery(this),t=parseInt(e.find(".ui-slider-handle").css("left"),0);e.find(".eg-pre-slider").css({width:t})})},v.callOnChange=function(e,a,t,n,r){jQuery(e).find("input").each(function(){var e=jQuery(this);e.on("change",function(){a(n,r)}),"hidden"==e.attr("type")&&(e.data("oldval",e.val()),setInterval(function(){e.data("oldval")!=e.val()&&(e.data("oldval",e.val()),a(n,r))},200))}),jQuery(e).find("textarea").each(function(){var e=jQuery(this);e.data("oldval",e.val()),setInterval(function(){e.data("oldval")!=e.val()&&(e.data("oldval",e.val()),a(n,r))},200)}),jQuery(e).find(".ui-slider-handle").each(function(){var e=jQuery(this);e.on("mousedown",function(){e.data("pos",e.position().left),e.addClass("youaredown"),clearInterval(e.data("timer")),e.data("timer",setInterval(function(){e.data("pos")!=e.position().left&&(e.data("pos",e.position().left),a(n,r))},t))})}),jQuery("body").on("mouseup",function(){jQuery(e).find(".ui-slider-handle").each(function(){var e=jQuery(this);clearInterval(e.data("timer"))})}),jQuery(e).find("select").each(function(){jQuery(this).on("change",function(){var e=jQuery(this).parent().find(".select_fake");if(e.length){var t=jQuery(this).find("option:selected").text();e.find("span").html(t)}a(n,r)})})},v.getBasicEntries=function(){var a=jQuery('input[name="columns-width[]"]'),n=jQuery('input[name="columns[]"]'),r=new Array;return jQuery.each(n,function(e){var t=new Object;t.width=parseInt(a[e].value,0),t.amount=parseInt(n[e].value,0),r.push(t)}),r},v.getMultipleEntries=function(){if("on"==jQuery('input[name="columns-advanced"]:checked').val()){var e=new Array,t=jQuery('input[name="columns[]"]'),a=new Array;jQuery.each(t,function(e){a.push(parseInt(t[e].value,0))}),e.push(a);for(var n=0;n<11;n++){if(null!=(t=jQuery('input[name="columns-advanced-rows-'+n+'[]"]'))&&0<t.length){a=new Array;jQuery.each(t,function(e){a.push(parseInt(t[e].value,0))}),e.push(a)}}return e}return[]},v.buildGridPreview=function(){var e=!1,h={name:"gridform",handle:"gridform",postparams:v.getFormParams("eg-form-create-posts"),params:v.getFormParams("eg-form-create-settings")};if(h.params["navigation-layout"]=v.get_navigation_layout(),h.params["css-id"]=jQuery("#esg-id-value").val(),h.id=jQuery('input[name="eg-id"]').val(),"custom"==jQuery('input[name="source-type"]:checked').val()&&(e=!0),e){var t=v.getFormParams("eg-custom-elements-form-wrap",!0);h.layers=void 0!==t.layers?t.layers:[]}jQuery("body").append('<div id="esg-preview-clone" style="display: none;"></div>'),jQuery("#esg-preview-wrapper").clone(!0).appendTo("#esg-preview-clone"),jQuery(".eg-remove-on-reload").remove(),jQuery(".esg-new-temp-layer").remove();try{jQuery("#esg-preview-grid").esskill()}catch(e){console.log("e:"+e)}jQuery("#esg-preview-wrapper").remove(),jQuery("#esg-preview-wrapping-wrapper").append('<div id="esg-preview-wrapper"></div>'),v.ajaxRequest("get_preview_html_markup",h,"#eg-grid-layout-wrapper,#eg-grid-skin-wrapper,.esg-refresh-preview-button,#esg-source-choose-wrapper,.ui-dialog-buttonset",function(e){var t=!1;if(void 0!==e.error?(alert(e.error),alert(eg_lang.script_will_try_to_load_last_working),t=!0,jQuery("#esg-preview-clone").children().appendTo("#esg-preview-wrapper")):jQuery("#esg-preview-wrapper").append(e.data.html),jQuery("#esg-preview-clone").remove(),"custom"==jQuery('input[name="source-type"]:checked').val()&&(t?jQuery("window").trigger("resize"):(jQuery("#esg-template-wrapper").html(e.data.preview),jQuery("#esg-preview-grid ul").sortable({start:function(){m.esquickdraw()},stop:function(){v.resetCustomItemValues(),m.esquickdraw()},change:function(){v.changePreviewGrid()},placeholder:!1,helper:"original",cancel:".ui-state-disabled"}),jQuery("#esg-preview-grid ul").disableSelection())),!t){var a=new Array;if(null!=h.params["columns-advanced-rows-0"]&&"on"==h.params["columns-advanced"]){a.push(h.params.columns);for(var n=0;n<10;n++)null!=h.params["columns-advanced-rows-"+n]&&a.push(h.params["columns-advanced-rows-"+n])}var r=jQuery('input[name="rows"]').val(),i=v.getBasicEntries(),o=v.getMultipleEntries();"on"==jQuery('input[name="rows-unlimited"]:checked').val()&&(r=9999);var s="";"on"==jQuery('input[name="use-cobbles-pattern"]:checked').val()&&jQuery('select[name="cobbles-pattern[]"]').each(function(){""!==s&&(s+=","),s+=jQuery(this).find("option:selected").val()});var l="on";"full"==jQuery('input[name="pagination-numbers"]:checked').val()&&(l="off");var u=jQuery("#grid-start-animation").val();"reveal"!==u?jQuery("#esg-preview-grid").find("ul").first().css("height","1000px"):u="none",m=jQuery("#esg-preview-grid").tpessential({layout:jQuery('input[name="layout"]:checked').val(),forceFullWidth:"off",smartPagination:l,cobblesPattern:s,row:r,space:jQuery('input[name="spacings"]').val(),pageAnimation:jQuery("#grid-animation-select").val(),animSpeed:jQuery('input[name="grid-animation-speed"]').val(),animDelay:"on",delayBasic:jQuery('input[name="grid-animation-delay"]').val(),startAnimation:u,startAnimationSpeed:jQuery("#grid-start-animation-speed").val(),startAnimationDelay:jQuery("#grid-start-animation-delay").val(),startAnimationType:jQuery('input[name="grid-start-animation-type"]:checked').val(),animationType:jQuery('input[name="grid-animation-type"]:checked').val(),aspectratio:jQuery('input[name="x-ratio"]').val()+":"+jQuery('input[name="y-ratio"]').val(),rowItemMultiplier:a,responsiveEntries:i,lightBoxMode:jQuery('select[name="lightbox-mode"]').val(),lightboxHash:jQuery('input[name="lightbox-deep-link"]').val()});var c=[];jQuery('input[name="lbox-padding[]"]').each(function(e){c[e]=parseInt(this.value,0)});var d=[];jQuery('input[name="lb-button-order[]"]').each(function(e){this.checked&&(d[e]=this.value)});var p="on"===jQuery('input[name="lightbox-arrows"]:checked').val(),g={margin:c,buttons:d,infobar:"on"===jQuery('input[name="lightbox-numbers"]:checked').val(),loop:!1,slideShow:{autoStart:!1,speed:3e3},animationEffect:jQuery('select[name="lightbox-effect-open-close"]').val(),animationDuration:jQuery('input[name="lightbox-effect-open-close-speed"]').val(),beforeShow:function(e,t){p||jQuery("body").addClass("esgbox-hidearrows");var a=0,n=!1;for(var r in e=e.slides)if(1<++a){n=!0;break}n||jQuery("body").addClass("esgbox-single"),"image"===t.type&&jQuery(".esgbox-button--zoom").show()},beforeLoad:function(e,t){jQuery("body").removeClass("esg-four-by-three"),"4:3"===t.opts.$orig.data("ratio")&&jQuery("body").addClass("esg-four-by-three")},afterLoad:function(){jQuery(window).trigger("resize.esglb")},afterClose:function(){jQuery("body").removeClass("esgbox-hidearrows esgbox-single")},transitionEffect:jQuery('select[name="lightbox-effect-next-prev-speed"]').val(),transitionDuration:jQuery('input[name="lightbox-effect-next-prev-speed"]').val(),hash:jQuery('input[name="lightbox-deep-link"]').val(),arrows:p,wheel:"on"===jQuery('input[name="lightbox-mousewheel"]:checked').val()};jQuery("#esg-preview-grid").data("lightboxsettings",g);try{jQuery("#esg-preview-grid .esgbox").esgbox(g)}catch(e){}v.resetCustomItemValues(),v.initToolTipser(),m.settings=new Object,m.standards=new Object,m.settings.layout=jQuery('input[name="layout"]:checked').val(),m.settings.forceFullWidth="off",m.settings.row=r,m.settings.smartPagination=l,m.settings.space=jQuery('input[name="spacings"]').val(),m.settings.pageAnimation=jQuery('select [name="grid-animation"]').val(),m.settings.animSpeed=jQuery('input[name="grid-animation-speed"]').val(),m.settings.animDelay="on",m.settings.startAnimation=jQuery("#grid-start-animation").val(),m.settings.startAnimationSpeed=jQuery("#grid-start-animation-speed").val(),m.settings.startAnimationDelay=jQuery("#grid-start-animation-delay").val(),m.settings.startAnimationType=jQuery('input[name="grid-start-animation-type"]:checked').val(),m.settings.animationType=jQuery('input[name="grid-animation-type"]:checked').val(),m.settings.lightBoxMode=jQuery('select[name="lightbox-mode"]').val(),m.settings.lightboxHash=jQuery('input[name="lightbox-deep-link"]').val(),m.settings.delayBasic=jQuery('input[name="grid-animation-delay"]').val(),m.settings.aspectratio=jQuery('input[name="x-ratio"]').val()+":"+jQuery('input[name="y-ratio"]').val(),m.settings.responsiveEntries=i,m.settings.rowItemMultiplier=o,m.settings.filterskin=jQuery("#navigation-skin-select").val(),m.settings.skin=jQuery('input[name="entry-skin"]:checked').val()}})},v.createPreviewGrid=function(){v.buildGridPreview(),v.callOnChange("#eg-form-create-settings",v.changePreviewGrid,100),jQuery(".esg-refresh-preview-button").click(function(){v.changePreviewGrid(!0)})},v.changePreviewGrid=function(o){if(void 0!==m){clearTimeout(m.timeout);var e=jQuery('input[name="main-background-color"]');jQuery("#eg-live-preview-wrap").css("background",e.attr("data-color")||RevColor.process(e.val())[0]),m.timeout=setTimeout(function(){jQuery("#esg-preview-skinlevel").attr("class","myportfolio-container fullwidthcontainer-with-padding").addClass(jQuery("#navigation-skin-select").val());var e=v.getBasicEntries(),t=v.getMultipleEntries(),a="on";"full"==jQuery('input[name="pagination-numbers"]:checked').val()&&(a="off");var n=new Object;n.layout=jQuery('input[name="layout"]:checked').val(),n.forceFullWidth="on",n.row=jQuery('input[name="rows"]').val(),"on"==jQuery('input[name="rows-unlimited"]:checked').val()&&(n.row=9999),n.space=jQuery('input[name="spacings"]').val(),n.smartPagination=a,n.pageAnimation=jQuery("#grid-animation-select").val(),n.animSpeed=jQuery('input[name="grid-animation-speed"]').val(),n.animDelay="on",n.delayBasic=jQuery('input[name="grid-animation-delay"]').val(),n.aspectratio=jQuery('input[name="x-ratio"]').val()+":"+jQuery('input[name="y-ratio"]').val(),n.responsiveEntries=e,n.rowItemMultiplier=t,n.skin=jQuery('input[name="entry-skin"]:checked').val(),n.rtl=jQuery('input[name="rtl"]:checked').val(),n.startAnimation=jQuery("#grid-start-animation").val(),n.startAnimationSpeed=jQuery("#grid-start-animation-speed").val(),n.startAnimationDelay=jQuery("#grid-start-animation-delay").val(),n.startAnimationType=jQuery('input[name="grid-start-animation-type"]:checked').val(),n.animationType=jQuery('input[name="grid-animation-type"]:checked').val();var r=!1,i=new Array;jQuery.each(n,function(e,t){"responsiveEntries"!=e&&n[e]!=m.settings[e]&&(r=!0,i.push(e))}),jQuery.each(n.responsiveEntries,function(e,t){t.width==m.settings.responsiveEntries[e].width&&t.amount==m.settings.responsiveEntries[e].amount||(r=!0,i.push("responsiveEntries"))}),n.skin!=m.settings.skin||n.layout!=m.settings.layout||1==o?(jQuery.extend(m.settings,n),v.buildGridPreview(),r=!1):jQuery.extend(m.settings,n),r&&(m.esredraw({aspectratio:m.settings.aspectratio,space:m.settings.space,row:m.settings.row,pageAnimation:m.settings.pageAnimation,smartPagination:m.settings.smartPagination,animSpeed:m.settings.animSpeed,animDelay:"on",rtl:n.rtl,responsiveEntries:m.settings.responsiveEntries,delayBasic:m.settings.delayBasic,silent:!1,changedAnim:"pageanim",rowItemMultiplier:m.settings.rowItemMultiplier,startAnimation:m.settings.startAnimation,startAnimationSpeed:m.settings.startAnimationSpeed,startAnimationDelay:m.settings.startAnimationDelay,startAnimationType:m.settings.startAnimationType,animationType:m.settings.animationType}),v.resetCustomItemValues(),setTimeout(function(){var e=jQuery(".esg-navigationbutton.esg-filterbutton.esg-pagination-button ");if(("pageAnimation"==i[0]||"animSpeed"==i[0]||"delayBasic"==i[0])&&jQuery(e[0]).hasClass("selected"))try{e[1].click()}catch(e){}setTimeout(function(){null!=e&&0<e.length&&e[0].click()},250)},250)),v.initToolTipser()},100)}},v.removePreviewGrid=function(){},v.animateElements=function(e){if(null==t)var t=[[".esg-none",0,{autoAlpha:1,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},0,{autoAlpha:1,overwrite:"all"}],[".esg-fade",.3,{autoAlpha:0,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{autoAlpha:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-fadeout",.3,{autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},{autoAlpha:0,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},.3,{autoAlpha:1,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-covergrowup",.3,{autoAlpha:1,top:"100%",marginTop:-10,rotationZ:0,x:0,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0},{autoAlpha:1,top:"0%",marginTop:0,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{autoAlpha:1,top:"100%",marginTop:-10,bottom:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"},!0],[".esg-flipvertical",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,rotationX:180,autoAlpha:0,z:-.001,transformOrigin:"50% 50%"},{rotationX:0,autoAlpha:1,scale:1,z:.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationX:180,autoAlpha:0,scale:1,z:-.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},!0],[".esg-flipverticalout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,rotationX:0,autoAlpha:1,z:.001,transformOrigin:"50% 50%"},{rotationX:-180,scale:1,autoAlpha:0,z:-150,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationX:0,autoAlpha:1,scale:1,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-fliphorizontal",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,rotationY:180,autoAlpha:0,z:-.001,transformOrigin:"50% 50%"},{rotationY:0,autoAlpha:1,scale:1,z:.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationY:180,autoAlpha:0,scale:1,z:-.001,ease:punchgs.Power3.easeInOut,overwrite:"all"},!0],[".esg-fliphorizontalout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,z:.001,transformOrigin:"50% 50%"},{rotationY:-180,scale:1,autoAlpha:0,z:-150,ease:punchgs.Power3.easeInOut,overwrite:"all"},.5,{rotationY:0,autoAlpha:1,scale:1,z:.001,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-flipup",.5,{x:0,y:0,scale:.8,rotationZ:0,rotationX:90,rotationY:0,skewX:0,skewY:0,autoAlpha:0,z:.001,transformOrigin:"50% 100%"},{scale:1,rotationX:0,autoAlpha:1,z:.001,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{scale:.8,rotationX:90,autoAlpha:0,z:.001,ease:punchgs.Power2.easeOut,overwrite:"all"},!0],[".esg-flipupout",.5,{rotationX:0,autoAlpha:1,y:0,ease:punchgs.Bounce.easeOut,overwrite:"all"},{x:0,y:0,scale:1,rotationZ:0,rotationX:-90,rotationY:0,skewX:0,skewY:0,autoAlpha:1,z:.001,transformOrigin:"50% 0%"},.3,{rotationX:0,autoAlpha:1,y:0,ease:punchgs.Bounce.easeOut,overwrite:"all"}],[".esg-flipdown",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:-90,rotationY:0,skewX:0,skewY:0,autoAlpha:0,z:.001,transformOrigin:"50% 0%"},{rotationX:0,autoAlpha:1,y:0,ease:punchgs.Bounce.easeOut,overwrite:"all"},.3,{rotationX:-90,z:0,ease:punchgs.Power2.easeOut,autoAlpha:0,overwrite:"all"},!0],[".esg-flipdownout",.5,{scale:1,rotationX:0,autoAlpha:1,z:.001,ease:punchgs.Power2.easeOut,overwrite:"all"},{x:0,y:0,scale:.8,rotationZ:0,rotationX:90,rotationY:0,skewX:0,skewY:0,autoAlpha:0,z:.001,transformOrigin:"50% 100%"},.3,{scale:1,rotationX:0,autoAlpha:1,z:.001,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-flipright",.5,{x:0,y:0,scale:.8,rotationZ:0,rotationX:0,rotationY:90,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"0% 50%"},{scale:1,rotationY:0,autoAlpha:1,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{autoAlpha:0,scale:.8,rotationY:90,ease:punchgs.Power3.easeOut,overwrite:"all"},!0],[".esg-fliprightout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,rotationY:0,autoAlpha:1,transformOrigin:"100% 50%"},{scale:1,rotationY:-90,autoAlpha:0,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{scale:1,z:0,rotationY:0,autoAlpha:1,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-flipleft",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:-90,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"100% 50%"},{rotationY:0,autoAlpha:1,z:.001,scale:1,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,rotationY:-90,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"},!0],[".esg-flipleftout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,rotationY:0,autoAlpha:1,transformOrigin:"0% 50%"},{scale:1,rotationY:90,autoAlpha:0,ease:punchgs.Power2.easeOut,overwrite:"all"},.3,{scale:1,z:0,rotationY:0,autoAlpha:1,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-turn",.5,{x:50,y:0,scale:0,rotationZ:0,rotationX:0,rotationY:-40,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{scale:1,x:0,rotationY:0,autoAlpha:1,ease:punchgs.Power3.easeInOut,overwrite:"all"},.3,{scale:0,rotationY:-40,autoAlpha:1,z:0,x:50,ease:punchgs.Power3.easeInOut,overwrite:"all"},!0],[".esg-turnout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{scale:1,rotationY:40,scale:.6,autoAlpha:0,x:-50,ease:punchgs.Power3.easeInOut,overwrite:"all"},.3,{scale:1,rotationY:0,z:0,autoAlpha:1,x:0,rotationX:0,rotationZ:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-slide",.5,{x:-1e4,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:-1e4,y:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideout",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:0,y:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideright",.5,{xPercent:-50,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:-50,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-sliderightout",.5,{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:50,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-scaleleft",.5,{x:0,y:0,scaleX:0,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"100% 50%"},{autoAlpha:1,x:0,scaleX:1,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:0,z:0,scaleX:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-scaleright",.5,{x:0,y:0,scaleX:0,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"0% 50%"},{autoAlpha:1,x:0,scaleX:1,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,x:0,z:0,scaleX:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideleft",.5,{xPercent:50,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:50,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideleftout",.5,{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:-50,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideup",.5,{x:0,yPercent:50,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,yPercent:50,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideupout",.5,{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,yPercent:-50,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slidedown",.5,{x:0,yPercent:-50,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,yPercent:-50,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slidedownout",.5,{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,yPercent:50,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideshortright",.5,{x:-30,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,x:-30,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideshortrightout",.5,{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:30,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,x:30,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideshortleft",.5,{x:30,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,x:30,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideshortleftout",.5,{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:-30,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,x:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideshortup",.5,{x:0,y:30,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,y:30,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideshortupout",.5,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,y:-30,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-slideshortdown",.5,{x:0,y:-30,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,y:-30,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-slideshortdownout",.5,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{x:0,y:30,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-skewright",.5,{xPercent:-100,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,skewX:-60,xPercent:-100,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-skewrightout",.5,{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:100,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:-60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-skewleft",.5,{xPercent:100,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:-60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:100,z:0,skewX:60,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-skewleftout",.5,{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:-100,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:60,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,skewX:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-shifttotop",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:1,y:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-rollleft",.5,{xPercent:50,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:90,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:50,z:0,rotationZ:90,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-rollleftout",.5,{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:50,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:90,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-rollright",.5,{xPercent:-50,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:-90,transformOrigin:"50% 50%"},{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{autoAlpha:0,xPercent:-50,rotationZ:-90,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-rollrightout",.5,{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"},{xPercent:-50,y:0,scale:1,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:-90,transformOrigin:"50% 50%"},.3,{autoAlpha:1,xPercent:0,rotationZ:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-falldown",.4,{x:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,yPercent:-100},{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.4,{yPercent:-100,autoAlpha:0,z:0,ease:punchgs.Power2.easeOut,delay:.2,overwrite:"all"}],[".esg-falldownout",.4,{autoAlpha:1,yPercent:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,yPercent:100},.4,{autoAlpha:1,yPercent:0,ease:punchgs.Power3.easeOut,overwrite:"all"}],[".esg-rotatescale",.3,{x:0,y:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:80,scale:.6,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,rotationZ:0,ease:punchgs.Back.easeOut,overwrite:"all"},.3,{autoAlpha:0,scale:.6,z:0,rotationZ:80,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-rotatescaleout",.3,{autoAlpha:1,scale:1,rotationZ:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,y:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,rotationZ:80,scale:.6,transformOrigin:"50% 50%"},.3,{autoAlpha:1,scale:1,rotationZ:0,ease:punchgs.Back.easeOut,overwrite:"all"}],[".esg-zoomintocorner",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"20% 50%"},{autoAlpha:1,scale:1.2,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.5,{autoAlpha:0,x:0,y:0,scale:1,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomouttocorner",.5,{x:0,y:0,scale:1.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"80% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.5,{autoAlpha:0,x:0,y:0,scale:1.2,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomtodefault",.5,{x:0,y:0,scale:1.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.5,{autoAlpha:0,x:0,y:0,scale:1.2,autoAlpha:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomback",.5,{x:0,y:0,scale:.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},.5,{autoAlpha:0,x:0,y:0,scale:.2,autoAlpha:0,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoombackout",.5,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,y:0,scale:.2,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.5,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"}],[".esg-zoomfront",.5,{x:0,y:0,scale:1.5,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Power3.easeOut,overwrite:"all"},.5,{autoAlpha:0,x:0,y:0,scale:1.5,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomfrontout",.5,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},{x:0,y:0,scale:1.5,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:0,transformOrigin:"50% 50%"},.5,{autoAlpha:1,scale:1,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"}],[".esg-flyleft",.8,{x:-80,y:0,z:0,scale:.3,rotationZ:0,rotationY:75,rotationX:10,skewX:0,skewY:0,autoAlpha:.01,transformOrigin:"30% 10%"},{x:0,y:0,rotationY:0,z:.001,rotationX:0,rotationZ:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},.8,{autoAlpha:.01,x:-40,y:0,z:300,rotationY:60,rotationX:20,overwrite:"all"}],[".esg-flyleftout",.8,{x:0,y:0,rotationY:0,z:.001,rotationX:0,rotationZ:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},{x:-80,y:0,z:0,scale:.3,rotationZ:0,rotationY:75,rotationX:10,skewX:0,skewY:0,autoAlpha:.01,transformOrigin:"30% 10%"},.8,{x:0,y:0,rotationY:0,z:.001,rotationX:0,rotationZ:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-flyright",.8,{scale:1,skewX:0,skewY:0,autoAlpha:0,x:80,y:0,z:0,scale:.3,rotationZ:0,rotationY:-75,rotationX:10,transformOrigin:"70% 20%"},{x:0,y:0,rotationY:0,z:.001,rotationX:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},.8,{autoAlpha:0,x:40,y:-40,z:300,rotationY:-60,rotationX:-40,overwrite:"all"}],[".esg-flyrightout",.8,{x:0,y:0,rotationY:0,z:.001,rotationX:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"},{scale:1,skewX:0,skewY:0,autoAlpha:0,x:80,y:0,z:0,scale:.3,rotationZ:0,rotationY:-75,rotationX:10,transformOrigin:"70% 20%"},.8,{x:0,y:0,rotationY:0,z:.001,rotationX:0,autoAlpha:1,scale:1,x:0,y:0,z:0,ease:punchgs.Power3.easeInOut,overwrite:"all"}],[".esg-mediazoom",.3,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1.4,x:0,y:0,ease:punchgs.Back.easeOut,overwrite:"all"},.3,{autoAlpha:0,x:0,y:0,scale:1,z:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-zoomandrotate",.6,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{autoAlpha:1,scale:1.4,x:0,y:0,rotationZ:30,ease:punchgs.Power2.easeOut,overwrite:"all"},.4,{x:0,y:0,scale:1,z:0,rotationZ:0,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-pressback",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"50% 50%"},{rotationY:0,autoAlpha:1,scale:.8,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{rotationY:0,autoAlpha:1,z:0,scale:1,ease:punchgs.Power2.easeOut,overwrite:"all"}],[".esg-3dturnright",.5,{x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,transformPerspective:600},{x:-40,y:0,scale:.8,rotationZ:2,rotationX:5,rotationY:-28,skewX:0,skewY:0,autoAlpha:1,transformOrigin:"100% 50% 40%",transformPerspective:600,ease:punchgs.Power3.easeOut,overwrite:"all"},.3,{z:0,x:0,y:0,scale:1,rotationZ:0,rotationX:0,rotationY:0,skewX:0,skewY:0,autoAlpha:1,force3D:"auto",ease:punchgs.Power2.easeOut,overwrite:"all"},!0]];var s=jQuery("#skin-dz-wrapper"),l=0,a=jQuery(".eg-editor-inside-wrapper"),n=jQuery("#skin-dz-m-wrap"),r=jQuery("#skin-dz-wrapper"),i=jQuery("#skin-dz-media-bg");punchgs.TweenLite.set(a,{transformStyle:"flat"}),punchgs.TweenLite.set(n,{transformStyle:"flat"}),punchgs.TweenLite.set(r,{transformStyle:"flat"}),punchgs.TweenLite.set(i,{transformStyle:"flat"});var o=e;if("hover"==e&&(jQuery.each(t,function(e,o){s.parent().find(o[0]).each(function(){var e=jQuery(this),t=e.data("hideunder");if(e.hasClass("eg-special-element"));else if(s.width()<t&&null!=t)"none"!=e.css("display")&&e.data("display",e.css("display")),e.css({display:"none"});else{var a=null!=e.data("delay")?parseFloat(e.data("delay")):0,n=o[2],r=o[3];r.delay=a,r.overwrite="all",n.overwrite="all",r.transformStyle="flat";r.force3D=!0;if("skin-dz-media-bg"!=e.attr("id")&&(r.clearProps="transform"),null==n.z&&(n.z=.001),null!=r.z&&0!=r.z||(r.z=.001),".esg-shifttotop"==o[0]&&(r.y=0-s.find("#skin-dz-br").last().height()),".esg-slide"==o[0]){switch(Math.round(4*Math.random()+1)){case 1:n.y=-20-e.height(),n.x=0;break;case 2:n.y=20+e.height(),n.x=0;break;case 3:n.x=-20-e.width(),n.y=0;break;case 4:default:n.x=20+e.width(),n.y=0}e.closest(".eg-editor-inside-wrapper").css({overflow:"hidden"})}if(".esg-slideout"==o[0]){switch(Math.round(4*Math.random()+1)){case 1:r.y=-20-e.height(),r.x=0;break;case 2:r.y=20+e.height(),r.x=0;break;case 3:r.x=-20-e.width(),r.y=0;break;case 4:default:r.x=20+e.width(),r.y=0}e.closest(".eg-editor-inside-wrapper").css({overflow:"hidden"})}null==r.transformPerspective&&(r.transformPerspective=1e3),null==n.transformPerspective&&(n.transformPerspective=1e3),punchgs.TweenLite.killTweensOf(e,!1);var i=e;punchgs.TweenLite.fromTo(i,o[1],n,r,0),"none"==e.css("display")&&e.css({display:e.data("display")}),l<a&&(l=a)}})}),o="leave"),"last"==e&&jQuery.each(t,function(e,t){s.parent().find(t[0]).each(function(){var e=jQuery(this);punchgs.TweenLite.killTweensOf(e,!1),null!=e.data("mySplitText")&&e.data("mySplitText").revert(),punchgs.TweenLite.to(s,.5,{autoAlpha:1,overwrite:"auto",clearProps:"transform"}),punchgs.TweenLite.to(e,.5,{skewX:0,skewY:0,rotationX:0,rotationY:0,rotationZ:0,x:0,y:0,z:0,scale:1,clearProps:"transform",autoAlpha:1,overwrite:"all"}),e.closest(".eg-editor-inside-wrapper").css({overflow:"hidden"})})}),"leave"==e){var u=0;jQuery.each(t,function(e,r){s.parent().find(r[0]).each(function(){var e=jQuery(this),t=null!=e.data("delay")?e.data("delay"):0,a=r[5];u<t&&(u=t);a.z=0;var n=e;if("skin-dz-media-bg"==e.attr("id")&&(a.clearProps="transform"),".esg-slide"==r[0]){switch(Math.round(4*Math.random()+1)){case 1:a.y=-20-e.height(),a.x=0;break;case 2:a.y=20+e.height(),a.x=0;break;case 3:a.x=-20-e.width(),a.y=0;break;case 4:default:a.x=20+e.width(),a.y=0}e.closest(".eg-editor-inside-wrapper").css({overflow:"hidden"})}e.hasClass("eg-special-element")||punchgs.TweenLite.to(n,r[4],a,0)})}),0==u&&(u=.2),l=0,o="hover"}"last"!=e&&jQuery("#eg-preview-item-skin").data("timer",setTimeout(function(){v.animateElements(o)},1e3*l+1500))},v.playElementAnimation=function(){jQuery("#drop-1").removeClass("revgreen").addClass("revred"),jQuery(".dropzonetext").css({visibility:"hidden"}),jQuery("#eg-preview-item-skin").css({display:"none"}),jQuery("#eg-preview-stop-item-skin").css({display:"inline-block"}),jQuery("#skin-dz-wrapper .skin-dz-elements.eg-special-element").css({visibility:"hidden"}),jQuery(".dropzonetext").each(function(){jQuery(this).closest(".eec").addClass("eg-filled-container")});var e=jQuery("#make-3d-map");e.hasClass("3don")?(v.moveIn3d("off",0),e.removeClass("3don"),e.html("3D"),setTimeout(function(){v.animateElements("hover")},600)):v.animateElements("hover")},v.stopElementAnimation=function(e){jQuery("#drop-1").removeClass("revred").addClass("revgreen"),jQuery(".dropzonetext").css({visibility:"visible"}),clearTimeout(jQuery("#eg-preview-item-skin").data("timer"));jQuery("#skin-dz-wrapper");jQuery("#eg-preview-item-skin").css({display:"inline-block"}),jQuery("#eg-preview-stop-item-skin").css({display:"none"}),jQuery("#skin-dz-wrapper .skin-dz-elements.eg-special-element").css({visibility:"visible"}),clearTimeout(jQuery("#eg-preview-item-skin").data("timer")),setTimeout(function(){clearTimeout(jQuery("#eg-preview-item-skin").data("timer")),v.animateElements("last")},200),v.atDropStop()},v.eg3dtakeCare=function(){var e;jQuery("#drop-1").click(function(){var e=jQuery(this),t=".dropzonetext";e.hasClass("revgreen")?(e.removeClass("revgreen").addClass("revred"),jQuery(t).css({visibility:"hidden"})):(e.removeClass("revred").addClass("revgreen"),jQuery(t).css({visibility:"visible"}))}),jQuery("#make-3d-map").hover(function(){clearTimeout(e),e=setTimeout(v.show3danim,250)},function(){clearTimeout(e),v.hide3danim()})},v.show3danim=function(){var e=jQuery(".eg-editor-inside-wrapper"),t=jQuery("#eg-3dpp"),a=jQuery("#eg-it-layout-wrap"),n=jQuery("#eg-3dpp-inner"),r=jQuery(".eg-3d-bg"),i=jQuery(".eg-3d-cover"),o=jQuery(".eg-3d-element"),s=jQuery(".eg-3d-elements"),l=jQuery(".eg-3dcc"),u=jQuery(".eg-3d-ccbg"),c=jQuery("#eg-3d-cstep1"),d=jQuery("#eg-3d-cstep2"),p=jQuery("#eg-3d-cstep3"),g=jQuery("#eg-3d-cstep4");punchgs.TweenLite.to(jQuery("#eg-it-layout-wrap"),.5,{backgroundColor:"#d5d5d5"}),punchgs.TweenLite.to(e,.5,{autoAlpha:0}),punchgs.TweenLite.to(t,.5,{z:-200,y:-30,autoAlpha:1}),punchgs.TweenLite.to(a,.3,{minHeight:600}),punchgs.TweenLite.set(n,{z:0,rotationY:0,rotationX:0,overwrite:"all"}),punchgs.TweenLite.set(jQuery("#eg-3d-description"),{autoAlpha:0,delay:3}),punchgs.TweenLite.set(o,{opacity:1,z:4,overwrite:"all"}),punchgs.TweenLite.set(s,{opacity:1,z:4,overwrite:"all"}),punchgs.TweenLite.set(i,{opacity:1,z:3,overwrite:"all"}),punchgs.TweenLite.set(u,{opacity:1,z:2,overwrite:"all"}),punchgs.TweenLite.set(r,{opacity:1,z:1,overwrite:"all"}),punchgs.TweenLite.set(t,{transformStyle:"preserve-3d",transformOrigin:"50% 50% 50%",transformPerspective:1200}),punchgs.TweenLite.set(jQuery(".eg-3dmc"),{transformStyle:"preserve-3d",transformOrigin:"50% 50% 50%",transformPerspective:1200}),punchgs.TweenLite.set(n,{transformStyle:"preserve-3d",transformOrigin:"50% 50% 0%",transformPerspective:1200}),punchgs.TweenLite.set(s,{transformStyle:"preserve-3d",transformOrigin:"50% 50% 0%",transformPerspective:1200}),punchgs.TweenLite.set(l,{transformStyle:"preserve-3d",transformOrigin:"50% 50% 0%",transformPerspective:1200}),punchgs.TweenLite.to(n,2,{z:0,rotationY:-45,rotationX:7,delay:.5,overwrite:"all",ease:punchgs.Power1.easeOut}),punchgs.TweenLite.to(o,1,{z:90,overwrite:"all",delay:1,ease:punchgs.Power1.easeOut}),punchgs.TweenLite.to(i,.7,{z:50,overwrite:"all",delay:1,ease:punchgs.Power1.easeOut}),punchgs.TweenLite.to(u,.5,{z:22,overwrite:"all",delay:1,ease:punchgs.Power1.easeOut}),punchgs.TweenLite.to(r,.5,{z:20,overwrite:"all",delay:1,ease:punchgs.Power1.easeOut}),punchgs.TweenLite.to(jQuery("#eg-3d-description"),.5,{autoAlpha:1,delay:3}),punchgs.TweenLite.fromTo(c,.5,{autoAlpha:0,y:-10},{autoAlpha:1,y:0,delay:3}),punchgs.TweenLite.to(s,.5,{opacity:1,delay:3}),punchgs.TweenLite.to(i,.5,{opacity:0,delay:3}),punchgs.TweenLite.to(l,.5,{opacity:0,delay:3}),punchgs.TweenLite.to(r,.5,{opacity:0,delay:3}),punchgs.TweenLite.to(c,.5,{autoAlpha:0,delay:4.5}),punchgs.TweenLite.fromTo(d,.5,{autoAlpha:0,y:-10},{autoAlpha:1,y:0,delay:4.5}),punchgs.TweenLite.to(s,.5,{opacity:0,delay:4.5}),punchgs.TweenLite.to(i,.5,{opacity:1,delay:4.5}),punchgs.TweenLite.to(d,.5,{autoAlpha:0,delay:6}),punchgs.TweenLite.fromTo(p,.5,{autoAlpha:0,y:-10},{autoAlpha:1,y:0,delay:6}),punchgs.TweenLite.to(i,.5,{opacity:0,delay:6}),punchgs.TweenLite.to(r,.5,{opacity:1,delay:6}),punchgs.TweenLite.to(p,.5,{autoAlpha:0,delay:7.5}),punchgs.TweenLite.fromTo(g,.5,{autoAlpha:0,y:-10},{autoAlpha:1,y:0,delay:7.5}),punchgs.TweenLite.to(l,.5,{opacity:1,delay:7.5}),punchgs.TweenLite.to(r,.5,{opacity:0,delay:7.5}),e.data("timer",setTimeout(function(){v.hide3danim()},9e3))},v.hide3danim=function(){var e=jQuery(".eg-editor-inside-wrapper");clearTimeout(e.data("timer"));var t=jQuery("#eg-3dpp"),a=jQuery("#eg-it-layout-wrap"),n=jQuery("#eg-3dpp-inner"),r=jQuery(".eg-3d-bg"),i=jQuery(".eg-3d-cover"),o=jQuery(".eg-3d-element"),s=jQuery(".eg-3d-elements"),l=jQuery(".eg-3dcc"),u=jQuery(".eg-3d-ccbg"),c=jQuery("#eg-3d-cstep1"),d=jQuery("#eg-3d-cstep2"),p=jQuery("#eg-3d-cstep3"),g=jQuery("#eg-3d-cstep4");punchgs.TweenLite.to(jQuery("#eg-it-layout-wrap"),.5,{backgroundColor:"#fff"}),punchgs.TweenLite.to(t,.5,{z:0,y:0,autoAlpha:0}),punchgs.TweenLite.to(e,.5,{autoAlpha:1}),punchgs.TweenLite.to(a,.3,{minHeight:0}),punchgs.TweenLite.set(c,{autoAlpha:0,overwrite:"all"}),punchgs.TweenLite.set(d,{autoAlpha:0,overwrite:"all"}),punchgs.TweenLite.set(p,{autoAlpha:0,overwrite:"all"}),punchgs.TweenLite.set(g,{autoAlpha:0,overwrite:"all"}),punchgs.TweenLite.to(l,.5,{opacity:1,overwrite:"all"}),punchgs.TweenLite.to(n,.5,{z:0,rotationY:0,rotationX:0,overwrite:"all"}),punchgs.TweenLite.to(jQuery("#eg-3d-description"),.5,{autoAlpha:0,delay:3}),punchgs.TweenLite.to(o,.5,{opacity:1,z:4,overwrite:"all"}),punchgs.TweenLite.to(s,.5,{opacity:1,z:4,overwrite:"all"}),punchgs.TweenLite.to(i,.5,{opacity:1,z:3,overwrite:"all"}),punchgs.TweenLite.to(u,.5,{opacity:1,z:2,overwrite:"all"}),punchgs.TweenLite.to(r,.5,{opacity:1,z:1,overwrite:"all"})},v.whileDropOrSort=function(e){var t=jQuery(".eg-state-highlight"),a=jQuery(e);t.html(a.html()),t.css({borderTop:a.css("borderTop"),borderBottom:a.css("borderBottom"),borderRight:a.css("borderRight"),borderLeft:a.css("borderLeft"),paddingTop:a.css("paddingTop"),paddingBottom:a.css("paddingBottom"),paddingLeft:a.css("paddingLeft"),paddingRight:a.css("paddingRight"),color:a.css("color"),border:a.css("border"),marginTop:a.css("marginTop"),marginLeft:a.css("marginLeft"),marginBottom:a.css("marginBottom"),marginRight:a.css("marginRight"),fontSize:a.css("fontSize"),lineHeight:a.css("lineHeight")}),v.atDropStop()},v.adjustDropHeights=function(){var e=jQuery(".esg-tc.eec"),t=jQuery(".esg-bc.eec"),a=(jQuery(".esg-bc.eec"),jQuery("#skin-dz-tl"),jQuery("#skin-dz-br"),jQuery("#skin-dz-c")),n=jQuery("#skin-dz-wrapper");pph=n.height();var r=(.8*pph-a.height())/2;r>.8*pph/3&&(r=.8*pph/3),e.hasClass("eg-filled-container")?e.css({height:"auto"}):e.css({minHeight:r+"px"}),t.hasClass("eg-filled-container")?t.css({minHeight:"auto"}):t.css({minHeight:r+"px"})},v.atDropStop=function(r){null==r&&(r=0),"even"==jQuery("input[name='choose-layout']:checked").val()?jQuery("#drop-4").hide():jQuery("#drop-4").show(),jQuery(".dropzonetext").each(function(e){var t=jQuery(this).closest(".eec");if(0==t.length&&(t=jQuery(this).closest("#skin-dz-m-wrap")),0<t.length){var a=t.find(".skin-dz-elements").length,n=t.find(".skin-dz-elements.ui-sortable-helper").length;r<a?t.addClass("eg-filled-container"):1==a&&1!=n?t.addClass("eg-filled-container"):t.removeClass("eg-filled-container")}}),v.adjustDropHeights()},v.presetSelects=function(){jQuery("#eg-wrap").find("select").each(function(){var e=jQuery(this),t=jQuery(this).parent().find(".select_fake");if(t.length){var a=e.find("option:selected").text();0==a.length&&(a=eg_lang.not_selected),t.find("span").html(a)}})},v.initUpdateRoutine=function(){jQuery("#eg-validation-activate").click(function(){var e={code:jQuery('input[name="eg-validation-token"]').val()};v.ajaxRequest("activate_purchase_code",e,"#eg-validation-activate")}),jQuery("#eg-validation-deactivate").click(function(){v.ajaxRequest("deactivate_purchase_code","","#eg-validation-deactivate")})},v.initNewsletterRoutine=function(){jQuery("#subscribe-to-newsletter").click(function(){var e={email:jQuery('input[name="eg-email"]').val()};v.ajaxRequest("subscribe_to_newsletter",e,"#subscribe-to-newsletter")}),jQuery("#activate-unsubscribe").click(function(){jQuery(".subscribe-newsletter-wrap").hide(),jQuery("#activate-unsubscribe").hide(),jQuery(".unsubscribe-newsletter-wrap").show(),jQuery("#unsubscribe-text").show(),jQuery("#subscribe-text").hide()}),jQuery("#cancel-unsubscribe").click(function(){jQuery(".subscribe-newsletter-wrap").show(),jQuery("#activate-unsubscribe").show(),jQuery(".unsubscribe-newsletter-wrap").hide(),jQuery("#unsubscribe-text").hide(),jQuery("#subscribe-text").show()}),jQuery("#unsubscribe-to-newsletter").click(function(){var e={email:jQuery('input[name="eg-email"]').val()};v.ajaxRequest("unsubscribe_to_newsletter",e,"#unsubscribe-to-newsletter")})},v.sanitize_input=function(e){return e.toLowerCase().replace(/ /g,"-").replace(/[^-0-9a-z_-]/g,"")},v.initSpinnerAdmin=function(){jQuery("#use_spinner_row").parent().prepend('<div id="spinner_preview"></div>');var e=jQuery("#spinner_preview"),t=jQuery("#use_spinner");jQuery("#spinner_color").val();v.resetSpin(e),t.on("change",function(){v.resetSpin(e,!0)})},v.spinnerColorChange=function(){var e=jQuery("#spinner_color"),t=e.attr("data-color")||e.val(),a="background",n=jQuery("#use_spinner");0!=n.val()&&5!=n.val()||(t="#ffffff",a="background-color");var r=jQuery("#spinner_preview .esg-loader.esg-demo");r.hasClass("spinner0")||r.hasClass("spinner1")||r.hasClass("spinner2")?r.css(a,t):r.find("div").css(a,t)},v.resetSpin=function(e,t){var a=jQuery("#use_spinner");e.find(".esg-loader").remove(),e.append('<div class="esg-loader esg-demo"><div class="dot1"></div><div class="dot2"></div><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>'),e.find(".esg-demo").addClass("spinner"+a.val()),-1==a.val()||0==a.val()||5==a.val()?jQuery("#spinner_color_row").css({display:"none"}):jQuery("#spinner_color_row").css({display:"block"}),v.spinnerColorChange()},v.initToolTipser=function(){es_do_tooltipser&&jQuery(".eg-tooltip-wrap").not(".tooltipser").tooltipster({theme:"eg-tooltip",delay:0,ion:"top",offsetY:0})},v.clearStreamCache=function(e){current_transient=e.parent().find("input"),current_transient_val=current_transient.val(),jQuery("input[name="+e.data("clear")+"]").parent().find("input").val("0"),v.changePreviewGrid(!0),setTimeout(function(){jQuery("input[name="+e.data("clear")+"]").val(current_transient_val)},500)}};jQuery.fn.tpsortable=function(){function l(e){e.preventDefault()}jQuery(this).mousedown(function(e){var a=jQuery(this),n=a.parent().offset().top,r=n+a.parent().height(),i=a.offset().top,o=e.pageY-i;a.css({"z-index":2,"background-color":"#eeeeee"});var t=function(e){var t=e.pageY-o;t<n?(a.offset({top:n}),0<a.prev().length&&a.insertBefore(a.prev().css({top:-a.height()}).animate({top:0},100))):t+a.height()>r?(a.offset({top:r-a.height()}),0<a.next().length&&a.insertAfter(a.next().css({top:a.height()}).animate({top:0},100))):(a.offset({top:t}),i-t>a.height()-1?(a.insertBefore(a.prev().css({top:-a.height()}).animate({top:0},100)),a.css({top:0}),i=a.offset().top,t=e.pageY-o,o=e.pageY-i):t-i>a.height()-1&&(a.insertAfter(a.next().css({top:a.height()}).animate({top:0},100)),a.css({top:0}),i=a.offset().top,t=e.pageY-o,o=e.pageY-i))},s=function(){jQuery(document).off("mousemove",t).off("mouseup",s),jQuery(document).off((jQuery.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",l),a.animate({top:0},1,function(){a.css({"z-index":1,"background-color":"transparent"})})};jQuery(document).on("mousemove",t).on("mouseup",s).on("contextmenu",s),jQuery(document).on((jQuery.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",l),jQuery(window).on("blur",s)})},jQuery(function(){!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(B){"use strict";function D(e){return"string"==typeof e?parseInt(e,10):~~e}var q={wheelSpeed:1,wheelPropagation:!1,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},F=0;B.fn.perfectScrollbar=function(R,M){return this.each(function(){function e(e){return u.minScrollbarLength&&(e=Math.max(e,u.minScrollbarLength)),u.maxScrollbarLength&&(e=Math.min(e,u.maxScrollbarLength)),e}function y(){v.removeClass("ps-active-x"),v.removeClass("ps-active-y"),c=u.includePadding?v.innerWidth():v.width(),d=u.includePadding?v.innerHeight():v.height(),p=v.prop("scrollWidth"),g=v.prop("scrollHeight"),!u.suppressScrollX&&p>c+u.scrollXMarginOffset?(h=!0,m=e(D(c*c/p)),w=D(v.scrollLeft()*(c-m)/(p-c))):(h=!1,w=m=0,v.scrollLeft(0)),!u.suppressScrollY&&g>d+u.scrollYMarginOffset?(j=!0,Q=e(D(d*d/g)),b=D(v.scrollTop()*(d-Q)/(g-d))):(j=!1,b=Q=0,v.scrollTop(0)),c-m<=w&&(w=c-m),d-Q<=b&&(b=d-Q),function(){var e={width:c};e.left=s?v.scrollLeft()+c-p:v.scrollLeft(),O?e.bottom=P-v.scrollTop():e.top=C+v.scrollTop(),x.css(e);var t={top:v.scrollTop(),height:d};L?t.right=s?p-v.scrollLeft()-z-Y.outerWidth():z-v.scrollLeft():t.left=s?v.scrollLeft()+2*c-p-I-Y.outerWidth():I+v.scrollLeft(),X.css(t),A.css({left:w,width:m-T}),Y.css({top:b,height:Q-E})}(),h&&v.addClass("ps-active-x"),j&&v.addClass("ps-active-y")}function t(){var o,s,l=!1;A.bind(k("mousedown"),function(e){s=e.pageX,o=A.position().left,x.addClass("in-scrolling"),l=!0,e.stopPropagation(),e.preventDefault()}),B(_).bind(k("mousemove"),function(e){var t,a,n,r,i;l&&(t=o,a=e.pageX-s,r=c-m,i=D((w=(n=t+a)<0?0:r<n?r:n)*(p-c)/(c-m)),v.scrollLeft(i),y(),e.stopPropagation(),e.preventDefault())}),B(_).bind(k("mouseup"),function(){l&&(l=!1,x.removeClass("in-scrolling"))}),o=s=null}function a(){var o,s,l=!1;Y.bind(k("mousedown"),function(e){s=e.pageY,o=Y.position().top,l=!0,X.addClass("in-scrolling"),e.stopPropagation(),e.preventDefault()}),B(_).bind(k("mousemove"),function(e){var t,a,n,r,i;l&&(t=o,a=e.pageY-s,r=d-Q,i=D((b=(n=t+a)<0?0:r<n?r:n)*(g-d)/(d-Q)),v.scrollTop(i),y(),e.stopPropagation(),e.preventDefault())}),B(_).bind(k("mouseup"),function(){l&&(l=!1,X.removeClass("in-scrolling"))}),o=s=null}function l(e,t){var a=v.scrollTop();if(0===e){if(!j)return!1;if(0===a&&0<t||g-d<=a&&t<0)return!u.wheelPropagation}var n=v.scrollLeft();if(0===t){if(!h)return!1;if(0===n&&e<0||p-c<=n&&0<e)return!u.wheelPropagation}return!0}function n(){function l(){u&&(clearInterval(u),u=null),x.removeClass("in-scrolling"),X.removeClass("in-scrolling")}var u=null,c={top:0,left:0},d=!1;B(_).bind(k("selectionchange"),function(){var e;B.contains(v[0],0===(e=window.getSelection?window.getSelection():document.getSlection?document.getSlection():{rangeCount:0}).rangeCount?null:e.getRangeAt(0).commonAncestorContainer)?d=!0:(d=!1,l())}),B(window).bind(k("mouseup"),function(){d&&(d=!1,l())}),B(window).bind(k("mousemove"),function(e){if(d){var t=e.pageX,a=e.pageY,n=v.offset(),r=n.left,i=n.left+v.outerWidth(),o=n.top,s=n.top+v.outerHeight();t<r+3?(c.left=-5,x.addClass("in-scrolling")):i-3<t?(c.left=5,x.addClass("in-scrolling")):c.left=0,a<o+3?(c.top=o+3-a<5?-5:-20,X.addClass("in-scrolling")):s-3<a?(c.top=a-s+3<5?5:20,X.addClass("in-scrolling")):c.top=0,0===c.top&&0===c.left?l():u||(u=setInterval(function(){return f()?(v.scrollTop(v.scrollTop()+c.top),v.scrollLeft(v.scrollLeft()+c.left),void y()):void clearInterval(u)},50))}})}function r(){v.unbind(k()),B(window).unbind(k()),B(_).unbind(k()),v.data("perfect-scrollbar",null),v.data("perfect-scrollbar-update",null),v.data("perfect-scrollbar-destroy",null),A.remove(),Y.remove(),x.remove(),X.remove(),v=x=X=A=Y=h=j=c=d=p=g=m=w=P=O=C=Q=b=z=L=I=s=k=null}var u=B.extend(!0,{},q),v=B(this),f=function(){return!!v};if("object"==typeof R?B.extend(!0,u,R):M=R,"update"===M)return v.data("perfect-scrollbar-update")&&v.data("perfect-scrollbar-update")(),v;if("destroy"===M)return v.data("perfect-scrollbar-destroy")&&v.data("perfect-scrollbar-destroy")(),v;if(v.data("perfect-scrollbar"))return v.data("perfect-scrollbar");v.addClass("ps-container");var c,d,p,g,h,m,w,j,Q,b,i,o,s="rtl"===v.css("direction"),k=(i=F++,function(e){var t=".perfect-scrollbar-"+i;return void 0===e?t:e+t}),_=this.ownerDocument||document,x=B("<div class='ps-scrollbar-x-rail'>").appendTo(v),A=B("<div class='ps-scrollbar-x'>").appendTo(x),P=D(x.css("bottom")),O=P==P,C=O?null:D(x.css("top")),T=D(x.css("borderLeftWidth"))+D(x.css("borderRightWidth")),X=B("<div class='ps-scrollbar-y-rail'>").appendTo(v),Y=B("<div class='ps-scrollbar-y'>").appendTo(X),z=D(X.css("right")),L=z==z,I=L?null:D(X.css("left")),E=D(X.css("borderTopWidth"))+D(X.css("borderBottomWidth")),S="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,Z=null!==window.navigator.msMaxTouchPoints;return y(),v.bind(k("scroll"),function(){y()}),t(),a(),function(){function e(e){e.stopPropagation()}Y.bind(k("click"),e),X.bind(k("click"),function(e){var t=D(Q/2),a=(e.pageY-X.offset().top-t)/(d-Q);a<0?a=0:1<a&&(a=1),v.scrollTop((g-d)*a)}),A.bind(k("click"),e),x.bind(k("click"),function(e){var t=D(m/2),a=(e.pageX-x.offset().left-t)/(c-m);a<0?a=0:1<a&&(a=1),v.scrollLeft((p-c)*a)})}(),n(),function(){function e(e){var t,a,n,r=(a=(t=e).originalEvent.deltaX,n=-1*t.originalEvent.deltaY,(void 0===a||void 0===n)&&(a=-1*t.originalEvent.wheelDeltaX/6,n=t.originalEvent.wheelDeltaY/6),t.originalEvent.deltaMode&&1===t.originalEvent.deltaMode&&(a*=10,n*=10),a!=a&&n!=n&&(a=0,n=t.originalEvent.wheelDelta),[a,n]),i=r[0],o=r[1];s=!1,u.useBothWheelAxes?j&&!h?(o?v.scrollTop(v.scrollTop()-o*u.wheelSpeed):v.scrollTop(v.scrollTop()+i*u.wheelSpeed),s=!0):h&&!j&&(i?v.scrollLeft(v.scrollLeft()+i*u.wheelSpeed):v.scrollLeft(v.scrollLeft()-o*u.wheelSpeed),s=!0):(v.scrollTop(v.scrollTop()-o*u.wheelSpeed),v.scrollLeft(v.scrollLeft()+i*u.wheelSpeed)),y(),(s=s||l(i,o))&&(e.stopPropagation(),e.preventDefault())}var s=!1;void 0!==window.onwheel?v.bind(k("wheel"),e):void 0!==window.onmousewheel&&v.bind(k("mousewheel"),e)}(),(S||Z)&&function(e,t){function s(e,t){v.scrollTop(v.scrollTop()-t),v.scrollLeft(v.scrollLeft()-e),y()}function a(){h=!0}function n(){h=!1}function l(e){return e.originalEvent.targetTouches?e.originalEvent.targetTouches[0]:e.originalEvent}function u(e){var t=e.originalEvent;return!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE)}function r(e){if(u(e)){m=!0;var t=l(e);c.pageX=t.pageX,c.pageY=t.pageY,d=(new Date).getTime(),null!==g&&clearInterval(g),e.stopPropagation()}}function i(e){if(!h&&m&&u(e)){var t=l(e),a={pageX:t.pageX,pageY:t.pageY},n=a.pageX-c.pageX,r=a.pageY-c.pageY;s(n,r),c=a;var i=(new Date).getTime(),o=i-d;0<o&&(p.x=n/o,p.y=r/o,d=i),e.stopPropagation(),e.preventDefault()}}function o(){!h&&m&&(m=!1,clearInterval(g),g=setInterval(function(){return f()?Math.abs(p.x)<.01&&Math.abs(p.y)<.01?void clearInterval(g):(s(30*p.x,30*p.y),p.x*=.8,void(p.y*=.8)):void clearInterval(g)},10))}var c={},d=0,p={},g=null,h=!1,m=!1;e&&(B(window).bind(k("touchstart"),a),B(window).bind(k("touchend"),n),v.bind(k("touchstart"),r),v.bind(k("touchmove"),i),v.bind(k("touchend"),o)),t&&(window.PointerEvent?(B(window).bind(k("pointerdown"),a),B(window).bind(k("pointerup"),n),v.bind(k("pointerdown"),r),v.bind(k("pointermove"),i),v.bind(k("pointerup"),o)):window.MSPointerEvent&&(B(window).bind(k("MSPointerDown"),a),B(window).bind(k("MSPointerUp"),n),v.bind(k("MSPointerDown"),r),v.bind(k("MSPointerMove"),i),v.bind(k("MSPointerUp"),o)))}(S,Z),u.useKeyboard&&(o=!1,v.bind(k("mouseenter"),function(){o=!0}),v.bind(k("mouseleave"),function(){o=!1}),B(_).bind(k("keydown"),function(e){if((!e.isDefaultPrevented||!e.isDefaultPrevented())&&o){for(var t=document.activeElement?document.activeElement:_.activeElement;t.shadowRoot;)t=t.shadowRoot.activeElement;if(!B(t).is(":input,[contenteditable]")){var a=0,n=0;switch(e.which){case 37:a=-30;break;case 38:n=30;break;case 39:a=30;break;case 40:n=-30;break;case 33:n=90;break;case 32:case 34:n=-90;break;case 35:n=e.ctrlKey?-g:-d;break;case 36:n=e.ctrlKey?v.scrollTop():d;break;default:return}v.scrollTop(v.scrollTop()-n),v.scrollLeft(v.scrollLeft()+a),l(a,n)&&e.preventDefault()}}})),v.data("perfect-scrollbar",v),v.data("perfect-scrollbar-update",y),v.data("perfect-scrollbar-destroy",r),v})}})});